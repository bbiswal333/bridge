{
    "Title"       : "config schema",
    "description" : "schema for the xs-syncer configuration file",
    "type"        : "object",
    "required"    : ["hanaInstance"],
    "properties"  : {
        "usePolling"     : {
            "type" : "boolean"
        },
        "hanaInstance"   : {
            "type"       : "object",
            "required"   : ["target", "user", "password"],
            "properties" : {
                "workspaceId" : { "type" : "string" },
                "target"      : { "type" : "string" },
                "user"        : { "type" : "string" },
                "ssl"         : { "type" : "boolean" },
                "password"    : { "type" : "string" }
            },
            "additionalProperties": false
        },
        "liveReload" : {
            "type"  : "boolean"
        },
        "proxySettings" : {
            "type" : "array",
            "minItems" : 1,
            "items" : {
                "type" : "object",
                "oneOf" : [
                    { "$ref" : "#/DEFINITIONS/LOCAL_PROXY" } ,
                    { "$ref" : "#/DEFINITIONS/REMOTE_PROXY" }
                ]
            }
        },
        "synchronizationSettings" : {
            "type" : "array",
            "items" : { "$ref" : "#/DEFINITIONS/SYNC" }
        },
        "serverPort" : { "$ref" : "#/DEFINITIONS/PORT" },
        "logLevel" : {
            "enum" : ["error", "info", "debug" ]
        }
    },
    "additionalProperties": false,
    "DEFINITIONS" : {
        "LOCAL_PROXY" : {
            "type" : "object",
            "required" : ["url", "localPath"],
            "properties" : {
                "url"        : { "type" : "string" },
                "localPath"  : { "type" : "string" },
                "fileTypes" :  {
                    "type" : "array",
                    "minItems": 1,
                    "items" : { "type" : "string" }
                }
            },
            "additionalProperties": false
        },
        "REMOTE_PROXY" : {
            "type" : "object",
            "required" : ["url", "remotePath"],
            "properties" : {
                "url"         : { "type" : "string" },
                "remotePath"  : { "type" : "string" },
                "target"      : { "type" : "string" },
                "fileTypes"   :  {
                    "type"     : "array",
                    "minItems" : 1,
                    "items"    : { "type" : "string" }
                }
            },
            "additionalProperties": false
        },
        "SYNC" : {
            "type"       : "object",
            "required"   : [ "localPath", "remotePath" ],
            "properties" : {
                "localPath"  : { "type" : "string" },
                "remotePath" : { "type" : "string" }
            },
            "additionalProperties": false
        },
        "PORT" : {
            "type"    : "integer",
            "minimum" : 0,
            "maximum" : 9999
        }
    }
}
