(function(){ovi.provide("nokia.maps.dom._extractCDATA");nokia.maps.dom.Cj=function(e,l){var h,d,c,g;typeof e==="string"&&(e=UIComponent.findElement(e));if(e&&e.nodeType===1){h=e.getElementsByTagName("script");for(d=h.length||0;d--;)(c=h[d]).type==="CDATA"&&(g=/^\s*<!\[CDATA\[\s*([\s\S]*)\s*\]\]>\s*$/.exec(c.text))&&(g=g[1])&&l(c,g,c.getAttribute("charset")||""+d)}};ovi.provide("nokia.maps.map.component._TrafficIncidentsTooltips");
(function(e){var l=e.dom.Page.browser.touch?"tap":"click";nokia.maps.map.component.ml=new ovi.Class({attachTooltips:function(e){this.td=ovi.bind(this,this.td);this.Tb=ovi.bind(this,this.Tb);e.addListener(l,this.td);e.addObserver("zoomLevel",this.Tb)},detachTooltips:function(e){e.removeListener(l,this.td);e.removeObserver("zoomLevel",this.Tb);this.Tb()},Tb:function(){this.vc&&this.vc.close();this.vc=null},td:function(e){var d;if(e.target.e===this.wd&&(d=e.target,d.$content))e=e.display,this.wo(d,e)},
wo:function(h,d){var c=this.vc,g;if(!(g=d.getComponentById("InfoBubbles")))d.components.add(g=new e.map.component.InfoBubbles);c&&this.vc.close();this.vc=g.openBubble(h.$content,h.coordinate)}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.SpaceManager");
(function(e){var l={},h=e.ui.nokia_generic.SpaceManager=new ovi.Class({initialize:function(d){this.Ym=d;this.jb=ovi.bind(this,this.jb);d.addListener("resizeend",this.jb)},Ym:null,Fv:0,Ev:0,sb:{},Statics:{getSpaceManager:function(d){l[d.c]||(l[d.c]=new h(d));return l[d.c]}},registerSpace:function(d,c,e,b,f){this.sb[d]||(this.sb[d]={});this.sb[d][c]={topLeft:e,bottomRight:b,flexible:f||!1}},setActiveState:function(d,c){for(var e in this.sb[d])if(this.sb[d][e].active)this.sb[d][e].active=!1,delete this.sb[d][e].active;
this.sb[d]&&this.sb[d][c]&&(this.sb[d][c].active=!0)},removeComponent:function(d){delete this.sb[d]},getDimensionsFor:function(d,c){return c?this.sb[d][c]:this.sb[d]},isSpaceFor:function(){},jb:function(){this.Fv=this.Ym.da.offsetWidth;this.Ev=this.Ym.da.offsetHeight}})})(nokia.maps);ovi.provide("nokia.maps.util.ObjectFormatter");
(function(e){var l=/\[\[([^\]]+)\]\]/gi,h=/\{\{([^\}]+)\}\}/gi;e.ObjectFormatter=new ovi.Class({format:function(d,c,e){var b=c.match(l),f,h=0,a;if(b)for(a=b.length;h<a;h++)f=b[h].replace(l,"$1"),valueString=this.Ai(f,d,e,!0),c=c.replace(b[h],valueString);return c=this.Ai(c,d,e)},Ai:function(d,c,g,b){var f=e.bo,l=d.match(h),a=!0,q,k=0,m;if(l)for(m=l.length;k<m;k++)q=l[k].replace(h,"$1"),q=g&&g[q]||f(q,c)||"",q=this.Sl(q),q.length>0&&(a=!1),d=d.replace(l[k],q!=null?q:"");return b&&a?"":d},Sl:function(d){var c=
"",e=typeof d;switch(e){case "object":case "undefined":case "function":c=e;break;case "string":c=d;break;case "number":case "boolean":c+=d}return c}})})(nokia.maps.util);ovi.provide("nokia.maps.ui.common.ColorSet");(function(e){var l="background border stroke fill text".split(" "),h=e.util.proto,d=e.ui.common.ColorSet=function(e,b){var f;if(c)return h(e,b?b instanceof d?b:h(b,c):c);for(f=l.length;f--;)this[l[f]]="#F60"},c=d.Op=new d})(nokia.maps);ovi.provide("nokia.maps.ui.common.ColorScheme");
(function(e){var l=e.ui.common,h="normal disable focus active".split(" "),d=nokia.maps.util.proto,c=l.ColorScheme=function(b,e){var r;if(g)return d(b,e?e instanceof c?e:d(e,g,!0):g,!0);for(r=h.length;r--;)this[h[r]]=l.ColorSet.Op},g=new c})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.UIScaler");
(function(e){e.ui.nokia_generic.UIScaler=ovi.Class({Extends:e.util.OObject,ID_TESTNODE:"ovi_ppitest",scaleFactor:0,Nr:{},rescale:function(l){if(this.scaleFactor!==0)return this.scaleFactor;var h=this.scaleFactor;this.Nr=l;this.tw(l);l.parentNode.style.fontSize="10px";this.isMobile()?(l="http://10.225.86.65/rest/deviceinfo?useragent="+navigator.userAgent+"&format=jsonp",(new e.net.Request(1,{callbackKey:"callback"})).send(l,ovi.bind(this,this.dcsResponse))):(h=Math.round(34)/34,this.set("scaleFactor",
h))},dcsResponse:function(e){var h=1,h=0,d=e.response;if(d&&!e.error&&(e=d.DeviceCompatibilityService&&d.DeviceCompatibilityService.DeviceInfoResponse&&d.DeviceCompatibilityService.DeviceInfoResponse.Characteristics?d.DeviceCompatibilityService.DeviceInfoResponse.Characteristics:null,!e||!(h=e["display.dpi"])))e&&(h=this.areaComparison(e));h=Math.round(34*((h||165)/96))/34;this.set("scaleFactor",h)},areaComparison:function(e){try{var h=e["display.size"]||e["display.size.inches"]||(e["display.size.cms"]?
this.mmToInch(e["display.size.cms"]*100):!1),d=e["dimension.length"]-0,c=e["dimension.width"]-0,g=e["display.height"],b=e["display.width"],f;if(h)f=this.calcDiagonal(g,b)/h;else{var r=this.calcDiagonal(this.mmToInch(d),this.mmToInch(c));r*=0.663979;f=this.calcDiagonal(g,b)/r}return f}catch(a){}},scaleFactorSetter:function(e){if(typeof e==="number")return this.Nr.style.cssText+=";font-size:"+e+"em;",this.scaleFactor=e},isMobile:function(){var e=ovi.platform,h=!0;if(navigator.userAgent.toLowerCase().indexOf("mobi")>
-1)h=!0;else if(e.windows||e.mac)h=!1;return h},tw:function(e){if(ovi.browser.msie){var h=ovi.browser.version-0;h<=7?ovi.dom.addClass(e,"IE7"):h<=8&&ovi.dom.addClass(e,"IE8")}},jx:function(e){var h=e.ownerDocument;return this.xw||(this.xw=function(){var d=h.createElement("div");d.id="ovi_ppitest";document.body.appendChild(d);return d}())},calcDiagonal:function(e,h){return Math.sqrt(e*e-h*h)},mmToInch:function(e){return e*0.039370079}})})(nokia.maps);ovi.provide("nokia.maps.ui.common.Animator");
(function(){var e=nokia.maps.util,l=e.now,h=Math.min,d=e.Coroutine;nokia.maps.ui.common.Animator=new ovi.Class({initialize:function(c,e,b,f){var r=this;if(ovi.type(f)=="number")r.Cg=f;r.Cl=c;r.Zc=e;r.eo=b;r.animatorCoCtx=d.create("nokia.maps.ui.common.Animator",function(){var a=(l()-r.be)/1E3/r.Zc,a=r.eo?a%1:h(1,a);r.Cl(a);if(a==1)return r.stop(),d.BLOCKED;return d.sleep(1/r.Cg*1E3)})();d.sleep(null,r.animatorCoCtx)},Cg:20,Ed:!1,start:function(c){ovi.type(c)!="number"&&(c=0);this.be=l()-c*this.Zc*
1E3;if(!this.Ed)this.Ed=!0,d.resume(this.animatorCoCtx)},stop:function(){if(!this.Ed)return 1;this.Ed=!1;d.sleep(null,this.animatorCoCtx);return(l()-this.be)/1E3/this.Zc}})})();ovi.provide("nokia.maps.ui.common.GfxTemplate");
(function(e){function l(b,a){return g[a&&typeof a==="string"?a:0]}var h=e.gfx,d=new h.SvgParser,c=e.util,g,b={background:"#00F",border:"#FF0",stroke:"#0F0",fill:"#FFA500",text:"#000",label:"FF9900"},f={background:/darkgray/g,border:/darkblue/g,stroke:/darkgold/g,fill:/darkaqua/g,text:/darkpink/g,label:/_label(\d*)_/g};e.ui.common.GfxTemplate=new ovi.Class({initialize:function(e,a,h,k){var m,k=c.proto(k,f);g=c.isArray(h)?h:[h||""];a=a||b;for(m in f)e=e.replace(k[m],m==="label"?l:a[m]);this.Ni=d.parseSvgInfo(e)},
HORIZONTAL:1,VERTICAL:2,stencil:function(b,a,c){var e=this.Ni,f=e.width,e=e.height,g=new h.Graphics;if((b=+b||1)<0||b===1/0)b=1;a=a%360||0;c=c&3||0;g.save();g.beginImage(f*b,e*b,b+"_"+a+"_"+c);g.scale(b,b);a&&(g.translate(f/2,e/2),g.rotate(a),g.translate(f/-2,e/-2));c&1&&(g.translate(f,0),g.scale(-1,1));c&2&&(g.translate(0,e),g.scale(1,-1));d.parseSvgToGraphics(this.Ni.document,g);g.restore();return g}})})(nokia.maps);ovi.provide("nokia.maps.ui.common.Bubble");
(function(e){function l(a){a.nf()}function h(a){a.wc()}function d(a){a.wc()}var c=e.dom.EventTarget,g=e.geo.Coordinate,b=e.dom.Page,f=b.browser.touch?"tap":"click",r=!!(b.browser.msie&&b.browser.version<=8),a=e.dom.findElement,q=e.util.d,k={x:16,y:16},m={x:20,y:16};e.ui.common.Bubble=new ovi.Class({Extends:nokia.maps.util.OObject,initialize:function(b){var e=this;e._super(b);e.addObserver("xAlignment",d);e.addObserver("yAlignment",d);e.addObserver("coordinate",h);e.U=b.U;e.addObserver("backgroundColor",
function(){});e.addObserver("content",l);e.node=c(e.node);e.node.setAttribute("aria-hidden","true");e.node.setAttribute("tabindex","0");e.node.bubble=e;e.contentNode=a(e.U+"bubble_content",e.node);e.Rg=function(){e.close();e.yn()};e.Ub=c(a(e.U+"bubble_control_close",e.node));e.Ub.addListener(f,e.Rg);e.Jo=a(e.U+"bubble_tail",e.node);e.gf="initialized";e.hh=!1;e.Za=!1},open:function(a){this.hh&&q("The info bubble ["+this.id+"] is already destroyed.");if(!this.Za)this.Za=!0,a&&this.set("coordinate",
a),this.coordinate||q("The info bubble ["+this.id+"] has no coordinate set."),this.ve&&(typeof this.ve=="function"?this.ve(this.Ub):this.Ub.parentNode.removeChild(this.Ub)),this.gf="opened",this.nf(),this.node.setAttribute("aria-hidden","false"),this.wc(),this.un()},close:function(a){if(this.Za)this.Za=!1,this.U==="nm_"?this.node.setAttribute("aria-hidden","true"):ovi.dom.addClass(this.node,"ovi_hidden"),this.nn(),!a&&this.gm();this.gf="closed"},gm:function(){this.hh=!0;this.Ub.removeListener(f,this.Rg);
this.node.parentNode.removeChild(this.node);delete this.node},update:function(a,b){a&&this.no(a);b&&this.set("coordinate",b);this.nf();this.wc()},isVisible:function(){return this.ap},getState:function(){return this.gf},nf:function(){if(this.Za&&this.vh()){var a,b=this.node.style,c=this.defaultWidth,d=this.defaultHeight;b.whiteSpace="nowrap";b.width="";if(c!=="auto"&&(b.whiteSpace="normal",a=this.node.offsetWidth,a<=c))b.width=c+"px";b.height="";if(d!=="auto"&&(b.whiteSpace="normal",a=this.node.offsetHeight,
a<=d))b.height=d+"px"}},wc:function(){if(this.Za){var a=this.vh(),b=a.width,c=a.height,d=a.padding,a=a.geoToPixel(this.coordinate),e=this.node,f=e.style,g=e.offsetWidth+k.x/2,h=e.offsetHeight+k.y/2,l=this.xAlignment,m=this.yAlignment,q=this.U+"infoBubble "+this.U+"align",r={};l!=="right"&&l!=="left"&&(l="right");m!=="above"&&l!=="below"&&(m="below");var E={};E.left=g-d.left<a.x;E.right=g-d.right<b-a.x;E.above=h-d.top<a.y;E.below=h-d.bottom<c-a.y;this.vm||(l==="right"&&!E.right&&E.left?l="left":l===
"left"&&!E.left&&E.right&&(l="right"),m==="above"&&!E.above&&E.below?m="below":m==="below"&&!E.below&&E.above&&(m="above"));l==="right"?(f.right="auto",f.left=a.x+"px",r.x=a.x):(f.left="auto",f.right=b-a.x+"px",r.x=a.x-g);m==="below"?(f.bottom="auto",f.top=a.y+"px",r.y=a.y):(f.top="auto",f.bottom=c-a.y+"px",r.y=a.y-h);this.ap=r.x+g>0&&r.y+h>0&&r.x<=b&&r.y<=c;q+=l==="left"?"Left":"Right";q+=m==="above"?"Above":"Below";e.className=q;this.vm||(this.xAlign!==l&&this.set("xAlignment",l),this.yAlign!==
m&&this.set("yAlignment",m));if(this.kn!==q)this.kn=q,this.um(l,m)}},um:function(a,b){var c=this.Jo,d=c.style,e=this.xAlignment,f=this.yAlignment,g=r?m:k;c.innerHTML="";d.left=e=="right"?"-"+g.x/2+"px":"auto";d.right=e=="left"?(r?"":"-")+g.x/2+"px":"auto";d.top=f=="below"?"-"+g.y/2+"px":"auto";d.bottom=f=="above"?(r?"":"-")+g.y/2+"px":"auto";c.appendChild(this.zb[a+b])},coordinateSetter:function(a){return g.fromObject(a)},no:function(a){typeof a=="string"?this.contentNode.innerHTML=a:typeof a=="object"&&
a.nodeType===1&&typeof a.nodeName=="string"?this.contentNode.appendChild(a):q("The content of info bubble ["+this.id+"] has to be a string or a HTML element")},xAlignmentSetter:function(a){a!=="right"&&a!="left"&&q("The value of xAlignment property must be either 'left' or 'right'");return a},yAlignmentSetter:function(a){a!=="above"&&a!="below"&&q("The value of yAlignment property must be either 'above' or 'below'");return a}})})(nokia.maps);ovi.provide("nokia.maps.ui.UIComponent");
(function(e){var l=e.util,h=e.ui.UIComponent=new ovi.Class({Extends:e.map.component.Component,Mixins:[e.dom.EventTarget],initialize:function(d){this._super(d);this.onLanguageChange&&l.getRootNameSpace("nokia.maps").Settings.addObserver("defaultLanguage",this.onLanguageChange,this)},build:function(d){!d&&!this.node&&ovi.error('#build() method of component "'+this.getId()+'" was not implemented (properly).');this.node?this.getRootNode().appendChild(this.node):this.set("node",h.findElement(d,this.getTemplate()))},
attach:function(d){this._super(d);this.node||this.build();this.show()},detach:function(d){this.hide();this._super(d)},hiddenSetter:function(d){if(!this.node)return d;d?ovi.dom.addClass(this.node,"ovi_hidden"):ovi.dom.removeClass(this.node,"ovi_hidden");return d},show:function(){this.set("hidden",!1)},hide:function(){this.set("hidden",!0)},expandedSetter:function(d){return d},expand:function(){this.set("expanded",!0)},collapse:function(){this.set("expanded",!1)},findElement:function(d,c){return h.findElement(d,
c||this.node)},doc:function(){var d=this.mapDisplay.T||null;return d?d.ownerDocument:null},translate:function(d){return h.getTranslation(d)},translateHtml:function(d){return h.translateHtml(d)},ao:function(d,c,e){return d=d.replace(e,function(b,d){return'url("'+c+d+'")'})},getRootNode:function(){return this.getTemplate()},getClippingNode:function(){return this.mapDisplay.rb},getSize:function(d){d=d===void 0?this.mapDisplay.T:d;return{width:d.clientWidth,height:d.clientHeight}},enabledSetter:function(d){d?
!this.hidden&&this.show():this.hide();return d},Statics:{renderTemplate:function(d,c,g){var b=d.T,f=b.ownerDocument,l=f.createElement("style"),a=e.dom.EventTarget(f.createElement("div"));l.type="text/css";a.className="ovi_mp_controls";l.styleSheet?l.styleSheet.cssText=g:l.appendChild(f.createTextNode(g));f.getElementsByTagName("head")[0].appendChild(l);c=c.replace(/(^[\s\S]*\<body\>)([\s\S]+)(<\/body>[\s\S]*)/,"$2");a.innerHTML=c;b.appendChild(a);a.style.zIndex=0;d.Zf.addListener("mouseenter",ovi.bind(d,
h.I));d.Zf.addListener("mouseleave",ovi.bind(d,h.H));d.addObserver("baseMapType",h.Vh,h);h.Vh(d,"baseMapType",h.baseMapType,null);return a},findElement:function(d,c){if(c instanceof nokia.maps.map.Display)return h.findElement(d,c.T)||h.findElement(d,c.rb);for(var e=RegExp("(^|\\s)"+d+"($|\\s)"),b=c.getElementsByTagName("*"),f=0;f<b.length;f++)if(e.test(b[f].className))return b[f];return null},i18n:new e.language.Manager,getTranslation:function(d){return h.i18n.translateToken(d,!1)},translateHtml:function(d){return h.i18n.translate(d,
!1,/__i18n_([a-zA-Z0-9_\.]*)__/g)},Vh:function(d,c,e){var c=d.T,b=ovi.dom.removeClass,f=ovi.dom.addClass;e===d.NORMAL?(f(c,"ovi_mp_mapScheme_normal"),b(c,"ovi_mp_mapScheme_satellite"),b(c,"ovi_mp_mapScheme_terrain")):e===d.SATELLITE?(b(c,"ovi_mp_mapScheme_normal"),f(c,"ovi_mp_mapScheme_satellite"),b(c,"ovi_mp_mapScheme_terrain")):e===d.TERRAIN&&(b(c,"ovi_mp_mapScheme_normal"),b(c,"ovi_mp_mapScheme_satellite"),f(c,"ovi_mp_mapScheme_terrain"))},I:function(){ovi.dom.addClass(this.T,"ovi_mp_hover")},
H:function(){ovi.dom.removeClass(this.T,"ovi_mp_hover")},hideAll:function(d,c){for(var e=d.Tg={},b,f=d.components.asArray(),l=f.length;l--;)if(b=f[l],b instanceof h)e[b.getId()]=b.hidden,b===c?b.show():b.hide()},restoreAll:function(d){var c=d.Tg,e;if(c){for(e in c)d.getComponentById(e).set("hidden",c[e]);delete d.Tg}}}});e.ui.AbstractUIComponent=e.ui.UIComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.UIComponent");ovi.provide("nokia.maps.resources.ui.nokia_generic.html");
nokia.maps.resources.ui.nokia_generic.html='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n\t<head>\n\t\t<title>Nokia Maps - UI Components for Web</title>\n\t\t<\!--<link rel="stylesheet" type="text/css" href="ovi_touch.css" />--\>\n\t</head>\n\t<body>\n\t\t<\!-- Icon (actually pictograph) resources are added as SVG comments in faux script tags (<script type="text/foobar">). This hack insures that browsers\n\t\twhich are capable of parsing inline SVG do not begin to parse the cdata content, as webkit browsers are prone to do.\n\t\t<svg> tags are added to tags which have these been consciously omitted as they measure up to the 34x34 standard dimensions--\>\n\t\t<\!-- hiddenListener START --\>\n\t\t<div class="nm_hiddenListener nm_hidden">\n\t\t</div>\n\t\t<\!-- hiddenListener END --\>\n\t\t\n\t\t<\!--info bubble START --\>\n\t\t<div class="nm_infoBubble" role="tooltip" aria-hidden="true">\n\t\t\t<div class="nm_bubble">\n\t\t\t\t<div class="nm_bubble_bg nm_contentBG"></div>\n\t\t\t\t<div class="nm_bubble_controls">\n\t\t\t\t\t<span class="nm_bubble_control_close">&times;</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_bubble_content">\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_bubble_linksbar"></div>\n\t\t\t\t<div  class="nm_bubble_tail">\n\t\t\t\t\t<script type="CDATA"  charset="infobubble">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<svg xmlns=\'http://www.w3.org/2000/svg\' version=\'1.1\' height=\'16\' width=\'20\'>\n\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t<path style="color:darkpink;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3069" d="m -35,52 l 10,16 l 0,-2 c 0,-2.216 1.784,-4 4,-4 l 6,0 L -35,52 z" transform="translate(35,-52)" />\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<\!-- info bubble END --\>\n\t\t\n\t\t<\!-- miniman START --\>\n\t\t<div class="nm_miniman">\n\t\t</div>\n\t\t<div class="nm_miniman_point">\n\t\t</div>\n\t\t<\!-- miniman END --\>\n\t\t\n\t\t\n\t\t<div class="nm_arrangeableAnchor nm_top">\n\t\t\t<\!-- Positioning START --\>\n\t\t\t<div class="nm_positioningWrap nm_wrap nm_left nm_singleButton" aria-role="button" aria-pressed="false" aria-busy="false"  aria-hidden="true" >\n\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t<div class="nm_pos_icon_normal">\n\t\t\t\t\t<script type="CDATA" charset="positioning_normal">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t <path style="color:#000000;fill:none;stroke:darkgold;stroke-width:0.75;stroke-miterlimit:4;stroke-dasharray:none;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3988" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="matrix(1.4117647,0,0,1.4117647,55.117647,-26.764706)"/>\n\t\t\t\t\t\t <path style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3218" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="translate(44,-14)"/>\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_pos_icon_pressed">\n\t\t\t\t\t<\!-- The pressed icon is the same as above for now but will probably change in the future. --\>\n\t\t\t\t\t<script type="CDATA" charset="positioning_pressed">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t <path style="color:#000000;fill:none;stroke:darkgold;stroke-width:0.75;stroke-miterlimit:4;stroke-dasharray:none;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3988" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="matrix(1.4117647,0,0,1.4117647,55.117647,-26.764706)"/>\n\t\t\t\t\t\t <path style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3218" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="translate(44,-14)"\n\t\t\t\t\t\t />]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_pos_icon_busy">\n\t\t\t\t\t<\!-- The pressed icon is the same as above for now but will probably change in the future. --\>\n\t\t\t\t\t<script type="CDATA" charset="positioning_busy">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t <path style="color:#000000;fill:none;stroke:darkgold;stroke-width:0.75;stroke-miterlimit:4;stroke-dasharray:none;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3988" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="matrix(1.4117647,0,0,1.4117647,55.117647,-26.764706)"/>\n\t\t\t\t\t\t <path style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" id="path3218" d="m -21,31  c 0.0000 3.3137 -2.6863 6.0000 -6.0000 6.0000 c -3.3137 0.0000 -6.0000 -2.6863 -6.0000 -6.0000 c -0.0000 -3.3137 2.6863 -6.0000 6.0000 -6.0000 c 3.3137 -0.0000 6.0000 2.6863 6.0000 6.0000 z" transform="translate(44,-14)"\n\t\t\t\t\t\t />]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<\!-- Positioning END --\>\n\t\t\t\n\t\t\t<\!-- MapSettings START--\>\n\t\t\t<ul class="nm_mapSettingsWrap nm_right nm_has3D" aria-role="menubar" aria-expanded="false" >\n\t\t\t\t<ul class="nm_wrapperBG">\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li></li>\n\t\t\t\t\t<li class="nm_3DBG"></li>\n\t\t\t\t</ul>\n\t\t\t\t<li class="nm_publicTransport nm_wrap" aria-hidden="true" aria-role="menuitemradio">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t\t<script type="CDATA" charset="publicTransport">\n\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 20.445561,26 h 2.58417 v -1.292085 h -2.58417 V 26 z" id="path3113" style="fill:darkaqua;stroke:none" />\n\t\t\t\t\t\t\t<path d="m 10.970269,26 h 2.58417 v -1.292085 h -2.58417 V 26 z" id="path3111" style="fill:darkaqua;stroke:none" />\n\t\t\t\t\t\t\t<path d="m 21.061847,22.26838 c -0.771141,0 -1.396706,-0.628111 -1.396706,-1.401796 c 0,-0.771649 0.625565,-1.401794 1.396706,-1.401794 c 0.77572,0 1.402812,0.627601 1.402812,1.401794 c 0,0.772667 -0.626074,1.401796 -1.402812,1.401796 z m -8.126238,-0.0056 c -0.774194,0 -1.400777,-0.623529 -1.400777,-1.396196 c 0,-0.769103 0.626583,-1.399759 1.400777,-1.399759 c 0.772667,0 1.398741,0.625566 1.398741,1.399759 c 0,0.772667 -0.626074,1.396196 -1.398741,1.396196 z M 11.989901,13.002736 C 11.988506,12.450978 12.271014,12 12.815647,12 l 8.347497,0 C 21.710832,12 21.998605,12.450978 22,13.002736 l 0.0101,3.995546 C 22.011499,17.551567 21.718387,18 21.173244,18 l -8.347498,0 C 12.280095,18 12.001398,17.551567 12,16.998282 z M 13,10 l 8,0 l 0,1 l -8,0 z m 6.584161,-2.0000001 l -5.155636,0 C 11.825325,7.9999999 10,9.4973374 10,10.986027 l 0,11.482166 C 10,23.844028 10.718665,24 11.463846,24 l 11.07129,0 C 23.27879,24 24,23.857495 24,22.481656 L 24,11 C 24,9.4917667 22.149293,7.9999999 19.584161,7.9999999 z" id="path3075" style="fill:darkaqua;stroke:none" />\n\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t<\/script>\n\t\t\t\t</li>\n\t\t\t\t<li class="nm_trafficIncidents nm_wrap" aria-hidden="true" aria-role="menuitemradio">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t\t<script type="CDATA" charset="trafficIncidents">\n\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path style="fill:darkaqua;stroke:none" d="m 17,10 l 8.5,8.5 l -8.5,8.5 l -8.5,-8.5 z" />\n\t\t\t\t\t\t\t<path fill="#ccc" d="m 16,13.5 l 2,0 l 0,6 l -2,0 z" />\n\t\t\t\t\t\t\t<path fill="#ccc" d="m 16,21 l 2,0 l 0,2 l -2,0 z" />\n\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t<\/script>\n\t\t\t\t</li>\n\t\t\t\t<li class="nm_traffic nm_wrap" aria-hidden="true" aria-role="menuitemradio">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t\t<script type="CDATA" charset="traffic">\n\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 13.999309,24.730567 l 0,1.269433 L 12,26 l 0,-1.590264 c 0.283371,0.201199 0.625954,0.320831 1.002374,0.320831 z" id="path6066" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="m 13.126235,18.456519 c 0.129904,-0.381254 0.925036,-2.773294 0.925036,-2.773294 c 0.133529,-0.409652 0.514781,-0.681542 0.947392,-0.681542 l 8.000258,0 c 0.430193,0 0.815675,0.272496 0.951017,0.681542 c 0,0 0.793923,2.39204 0.921409,2.773294 c 0.233827,0.237452 0.835614,0.838029 0.835614,0.838029 C 25.893661,19.478831 26,19.733805 26,20.000258 l 0,3.001079 c 0,0.551639 -0.446507,0.999352 -0.999352,0.999352 l -12.000087,0 c -0.554659,0 -1.00177,-0.447713 -1.00177,-0.999352 l 0,-3.001683 c 0,-0.266454 0.104527,-0.521428 0.29606,-0.705709 c -6.04e-4,0 0.601183,-0.60058 0.831384,-0.837426 z M 22.527038,16 l -7.049847,0 l -0.780631,2.999698 l 8.607484,0 z m 1.301455,6.719778 c 0.734107,0 1.327434,-0.600579 1.327434,-1.338311 c 0,-0.742565 -0.591514,-1.33831 -1.327434,-1.33831 c -0.733504,0 -1.330457,0.59514 -1.330457,1.33831 c 0,0.737732 0.596953,1.338311 1.330457,1.338311 z m -9.656381,0 c 0.732899,0 1.32683,-0.600579 1.32683,-1.338311 c 0,-0.742565 -0.593931,-1.33831 -1.32683,-1.33831 c -0.736525,0 -1.331061,0.59514 -1.331061,1.33831 c 6.04e-4,0.737732 0.592724,1.338311 1.331061,1.338311 z" id="path6058" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="m 25.998188,24.409736 l 0,1.590264 l -1.997497,0 l 0,-1.269433 l 0.998144,0 c 0.372794,0 0.717189,-0.119632 0.999353,-0.320831 z" id="path6038" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="m 10.1875,16.03125 c 0.732899,0 1.3125,0.601185 1.3125,1.34375 c 0,0.737732 -0.579601,1.34375 -1.3125,1.34375 c -0.738337,0 -1.343146,-0.606018 -1.34375,-1.34375 c 0,-0.74317 0.607225,-1.34375 1.34375,-1.34375 z M 11,11 c -0.432611,0 -0.803971,0.277848 -0.9375,0.6875 c 0,0 -0.807596,2.399996 -0.9375,2.78125 c -0.230201,0.236846 -0.844354,0.8125 -0.84375,0.8125 C 8.089717,15.465531 8,15.733546 8,16 l 0,3 c 0,0.551639 0.445341,1 1,1 l 2.03125,0 c 0,-0.482549 0.17439,-1.002768 0.59375,-1.40625 c 0.0029,-0.0028 -0.0026,-0.02875 0,-0.03125 c 0.0053,-0.005 0.02255,0.0082 0.03125,0 c 0.01731,-0.01633 0.03226,-0.03395 0.0625,-0.0625 c 0.06048,-0.0571 0.12906,-0.13335 0.21875,-0.21875 c 0.121577,-0.11576 0.240203,-0.210852 0.34375,-0.3125 c 0.196435,-0.580002 0.875,-2.59375 0.875,-2.59375 c 0.04476,-0.137321 0.115265,-0.25348 0.1875,-0.375 l -2.65625,0 l 0.78125,-3 l 7.0625,0 l 0.53125,2 l 1.65625,0 C 20.460535,13.223655 19.9375,11.6875 19.9375,11.6875 C 19.802158,11.278454 19.430193,11 19,11 l -8,0 z" id="path6071" style="fill:darkaqua" />\n\t\t\t\t\t\t\t<path d="M 8,20.40625 L 8,22 l 2,0 l 0,-1.28125 l -1,0 c -0.37642,0 -0.716629,-0.111301 -1,-0.3125 z" id="path6040" style="fill:darkaqua"/>\n\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t<\/script>\n\t\t\t\t</li>\n\t\t\t\t<dl class="nm_dropDownMenu  nm_mapSelectorWrap nm_wrap" aria-expanded="false" aria-haspopup="true" aria-role="menu" aria-hidden="true" >\n\t\t\t\t    <dt class="nm_menuItemMapType" aria-role="menuitem">\n\t\t\t\t        <span class="nm_labelOpen nm_firstBG" aria-role="label" title="__i18n_ovi.service.map._t20__">__i18n_ovi.service.map._t17__<\!--<span class="nm_dropdown_arrow"></span>--\></span>\n\t\t\t\t        <span class="nm_labelClose"  aria-role="label">__i18n_ovi.service.map._t61__</span>\n\t\t\t\t    </dt>\n\t\t\t\t    <dd class="nm_normal nm_first" aria-role="menuitemradio" tabindex="-1">\n\t\t\t\t        <span class="nm_secondBG">__i18n_ovi.service.map._t17__</span>\n\t\t\t\t        <span class="nm_icon">&#8984;</span>\n\t\t\t\t    </dd>\n\t\t\t\t    <dd class="nm_satellite" aria-role="menuitemradio" tabindex="-1">\n\t\t\t\t        <span class="nm_secondBG">__i18n_ovi.service.map._t18__</span>\n\t\t\t\t        <span class="nm_icon">&#8984;</span>\n\t\t\t\t    </dd>\n\t\t\t\t    <dd class="nm_terrain" aria-role="menuitemradio" tabindex="-1">\n\t\t\t\t        <span class="nm_secondBG">__i18n_ovi.service.map._t19__</span>\n\t\t\t\t        <span class="nm_icon">&#8984;</span>\n\t\t\t\t    </dd>\n\t\t\t\t    <dd class="nm_globe nm_last" aria-role="menuitemradio" tabindex="-1">\n                        <span class="nm_secondBG">__i18n_typeSelector.globe__</span>\n                        <span class="nm_icon">&#8984;</span>\n                    </dd>\n\t\t\t\t</dl>\n\t\t\t</ul>\n\t\t\t<\!-- StreetLevel START --\>\n            <div class="nm_streetLevelWrap nm_right nm_wrap nm_singleButton" aria-role="button" aria-pressed="false" aria-hidden="true">\n                <div class="nm_firstBG">\n                    <span class="nm_street_level_leave">\n                        __i18n_streetlevel.leave__\n                    </span>\n                </div>\n                <div class="nm_street_level_icon">\n                    <script type="CDATA" charset="street_level_normal">\n                        <![CDATA[\n                        <path\n                             d="m 18.404447,12.32586 c -0.64114,-1.317068 -1.724616,-1.858807 -2.340904,-2.137131 -0.621259,-0.2832926 -1.217669,-0.2435326 -1.27234,-0.2435326 -0.02485,0 -2.231562,0 -2.256412,0 -0.05467,0 -0.621259,-0.03977 -1.242518,0.2435326 -0.616288,0.278324 -1.6600041,0.820063 -2.3011441,2.137131 -0.457246,0.944313 -0.487066,2.748451 -0.492035,3.886596 -0.005,0.685871 0.586467,0.964195 0.949282,0.964195 0.367786,0.005 0.8548541,-0.303175 0.8548541,-0.984075 -0.005,-2.857791 0.939343,-2.733539 0.994014,-2.733539 v 8.866609 c 0,0.402574 0.377725,0.725629 0.889642,0.725629 0.472158,0 0.924433,-0.178923 0.924433,-0.725629 l 0.412517,-5.278217 c 0.05964,0.005 0.253473,0.005 0.308143,0 l 0.412517,5.278217 c 0,0.516887 0.467187,0.73557 0.964194,0.74054 0.457247,0 0.839942,-0.337966 0.839942,-0.74054 v -8.866609 c 0.05964,0 0.944314,-0.08946 0.959224,2.773299 0,0.566589 0.526828,0.954254 0.889642,0.949284 0.367786,0 0.989045,-0.283293 0.989045,-0.929402 0.005,-1.138147 -0.02485,-2.982045 -0.482096,-3.926358 z"\n                             id="path3125"\n                             style="fill:#333333" \n                             transform="translate(3,3)"/>\n                          <path\n                             clip-rule="evenodd"\n                             d="m 16.267316,6.3170443 c 0,1.4164701 -1.143117,2.5645561 -2.564558,2.5645561 -1.416471,0 -2.564557,-1.148086 -2.564557,-2.5645561 0,-1.4164705 1.153057,-2.5595866 2.569528,-2.5595866 1.41647,0 2.559587,1.1480857 2.559587,2.5595866 z"\n                             id="path3127"\n                             style="fill:#333333;fill-rule:evenodd"\n                             transform="translate(3,3)"/>\n                        />]]\>\n                    <\/script>\n                </div>\n                <div class="nm_street_level_icon_hover">\n                    <script type="CDATA" charset="street_level_hover">\n                     <![CDATA[\n                     <g fill="none" stroke="white">\n                        <path\n                         clip-rule="evenodd"\n                         d="m 19.226644,9.9210099 c 0,1.4150861 -1.14602,2.5611071 -2.561107,2.5611071 -1.415086,0 -2.561107,-1.146021 -2.561107,-2.5611071 0,-1.4150866 1.146021,-2.5611076 2.561107,-2.5611076 1.415087,0 2.561107,1.146021 2.561107,2.5611076 z"\n                         id="path3205"\n                         style="fill:#0099bb;fill-rule:evenodd" />\n                      <path\n                         d="m 12.041592,15.810561 c 0.886921,-1.54962 1.659239,-1.823668 2.306991,-2.092733 0.652733,-0.274049 1.669204,-0.199309 1.728995,-0.199309 0.0299,0 1.10616,0.01 1.519724,-0.01 0.518201,-0.02989 0.657716,0.005 1.185883,-0.03986 0.702561,-0.06478 2.04789,-0.632802 2.765398,-1.873495 0.373702,-0.652733 0.42353,-0.921799 0.697578,-1.230726 0.264084,-0.303945 0.712526,-0.5680283 1.190866,-0.318894 0.478339,0.249136 0.478339,0.832111 0.38865,1.131073 -0.154464,0.49827 -0.607889,1.554603 -0.906852,2.017993 -1.998062,3.059379 -3.796816,3.258686 -3.85661,3.258686 v 9.487061 c 0,0.38865 -0.318892,0.717509 -0.857023,0.717509 -0.498271,0 -0.966645,-0.323876 -0.966645,-0.717509 l -0.318892,-5.301592 c -0.05979,0.005 -0.36872,0.005 -0.428512,0 l -0.393634,5.301592 c 0,0.38865 -0.383667,0.717509 -0.906852,0.722492 -0.478339,0.005 -0.916816,-0.333842 -0.916816,-0.722492 v -8.894118 c -0.01993,0 -0.971627,0.01495 -0.971627,2.969688 0,0.353772 -0.104636,1.051349 -0.901868,1.051349 -0.782283,0 -1.036401,-0.722491 -1.031419,-1.101176 0.02991,-1.464914 0.08969,-3.11917 0.672665,-4.155572 z"\n                         id="path3207"\n                         style="fill:#0099bb" />\n                        </g>\n                        />]]\>\n                    <\/script>\n                </div>\n                <div class="nm_street_level_icon_pressed">\n                    <script type="CDATA" charset="street_level_pressed">\n                    <![CDATA[\n                     <path\n                             d="m 18.404447,12.32586 c -0.64114,-1.317068 -1.724616,-1.858807 -2.340904,-2.137131 -0.621259,-0.2832926 -1.217669,-0.2435326 -1.27234,-0.2435326 -0.02485,0 -2.231562,0 -2.256412,0 -0.05467,0 -0.621259,-0.03977 -1.242518,0.2435326 -0.616288,0.278324 -1.6600041,0.820063 -2.3011441,2.137131 -0.457246,0.944313 -0.487066,2.748451 -0.492035,3.886596 -0.005,0.685871 0.586467,0.964195 0.949282,0.964195 0.367786,0.005 0.8548541,-0.303175 0.8548541,-0.984075 -0.005,-2.857791 0.939343,-2.733539 0.994014,-2.733539 v 8.866609 c 0,0.402574 0.377725,0.725629 0.889642,0.725629 0.472158,0 0.924433,-0.178923 0.924433,-0.725629 l 0.412517,-5.278217 c 0.05964,0.005 0.253473,0.005 0.308143,0 l 0.412517,5.278217 c 0,0.516887 0.467187,0.73557 0.964194,0.74054 0.457247,0 0.839942,-0.337966 0.839942,-0.74054 v -8.866609 c 0.05964,0 0.944314,-0.08946 0.959224,2.773299 0,0.566589 0.526828,0.954254 0.889642,0.949284 0.367786,0 0.989045,-0.283293 0.989045,-0.929402 0.005,-1.138147 -0.02485,-2.982045 -0.482096,-3.926358 z"\n                             id="path3125"\n                             style="fill:#ffffff" \n                             transform="translate(3,3)"/>\n                          <path\n                             clip-rule="evenodd"\n                             d="m 16.267316,6.3170443 c 0,1.4164701 -1.143117,2.5645561 -2.564558,2.5645561 -1.416471,0 -2.564557,-1.148086 -2.564557,-2.5645561 0,-1.4164705 1.153057,-2.5595866 2.569528,-2.5595866 1.41647,0 2.559587,1.1480857 2.559587,2.5595866 z"\n                             id="path3127"\n                             style="fill:#ffffff;fill-rule:evenodd"\n                             transform="translate(3,3)"/>\n                    />]]\>\n                    <\/script>\n                </div>\n            </div>\n            <\!-- StreetLevel END --\>\n\t\t\t\n\t\t\t<\!-- MapSettings END --\>\n\t\t</div>\n\t\t<\!-- Positioning END --\>\n\t\t\n\t\t<\!-- Zoombar START --\>\n\t\t<div class="nm_arrangeableAnchor nm_middle">\n\t\t\t<div class="nm_zoomWrap nm_wrap nm_right" aria-expanded="true" aria-hidden="true" >\n\t\t\t\t<\!-- Aria-expanded states set to true are required here (both above and below) as measurements are taken based on this state at initialisation--\>\n\t\t\t\t\t<div class="nm_zoomButtons nm_buttonPair">\n\t\t\t\t\t\t<div class="nm_firstBG nm_background">&nbsp;</div>\n\t\t\t\t\t\t<div class="nm_zoomIn" aria-role="button">\n\t\t\t\t\t\t\t<script type="CDATA"  charset="zoomin">\n\t\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t\t\t<path fill="darkaqua" fill-rule="nonzero" style="enable-background:accumulate;color:#000000;" d="M16,4.875v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2z"/>\n\t\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t\t<\/script>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="nm_zoomOut" aria-role="button">\n\t\t\t\t\t\t\t<script type="CDATA" charset="zoomout">\n\t\t\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t\t\t<g transform="translate(0,-1018.3622)" id="layer1" style="display:inline">\n\t\t\t\t\t\t\t\t\t\t<rect width="2" height="8" x="517.16022" y="208.91977" transform="matrix(0,1,-1,0,229.9198,523.20198)" id="rect6052" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t]]\>\n\t\t\t\t\t\t\t<\/script>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="nm_zoomLevels" aria-expanded="false" aria-hidden="false" role="application" aria-valuemin="0" aria-valuemax="20" aria-valuenow="10">\n\t\t\t\t\t\t<div class="nm_zoomSlider" aria-role="button">\n\t\t\t\t\t\t\t<div class="nm_secondBG nm_background"></div>\n\t\t\t\t\t\t\t<div class="nm_zoomSliderTrack">\n\t\t\t\t\t\t\t\t<div aria-role="button" class="nm_zoomSliderKnob" title="__i18n_ovi.service.map._t42__" draggable="true" unselectable="on">\n\t\t\t\t\t\t\t\t\t<span class="nm_thirdBG"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<\!-- Dynamically created according to map zoom levels--\>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul class="nm_zoomBookmarks nm_notouch" aria-role="listbox">\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_street" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class=" nm_secondBG nm_background">__i18n_ovi.service.map._t46__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_city" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class="nm_secondBG">__i18n_ovi.service.map._t45__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_state" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class="nm_secondBG">__i18n_ovi.service.map._t44__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="nm_zoomBookmark nm_zoomBookmark_country" aria-role="option">\n\t\t\t\t\t\t\t\t\t<span class="nm_secondBG">__i18n_ovi.service.map._t43__</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<\!-- zoomBar END --\>\n\t\t\n\t\t<div class="nm_arrangeableAnchor nm_bottom">\n\t\t\t<\!-- Overview START --\>\n\t\t\t<div class="nm_overviewWrap nm_wrap nm_right" aria-expanded="false" unselectable="on" aria-hidden="true" >\n\t\t\t\t<div class="nm_overviewMap" unselectable="on"></div>\n\t\t\t\t<div class="nm_overviewButton nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="overview">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 8,10 l 0,14 l 18,0 l 0,-14 z m 1,1 l 16,0 l 0,12 L 9,23 z" id="rect3114" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t\t<path d="m 10,12 l 0,10 l 6,0 l 0,-6 l 8,0 l 0,-4 z" id="rect3119" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<\!-- Overview END --\>\n\n\t\t\t<\!-- Distance Measurement START --\>\n\t\t\t<div class="nm_rulerWrap nm_wrap nm_right" aria-expanded="false" unselectable="on" aria-hidden="true" >\n\t\t\t\t<div class="nm_rulerButton_icon_normal nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="ruler_normal">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m15,1H2C1.447,1,1,1.448,1,2v5.001C1,7.553,1.447,8,2,8h13c0.553,0,1-0.447,1-1V2C16,1.448,15.553,1,15,1z M15,5.999v0.91v0.09V7H2l0,0V3h1v3h2V5h1v1h2V4h1v2h2V5h1v0.999h2V3h1V5.999z"  transform="translate(8,15)" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_rulerButton_icon_pressed nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="ruler_pressed">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m15,1H2C1.447,1,1,1.448,1,2v5.001C1,7.553,1.447,8,2,8h13c0.553,0,1-0.447,1-1V2C16,1.448,15.553,1,15,1z M15,5.999v0.91v0.09V7H2l0,0V3h1v3h2V5h1v1h2V4h1v2h2V5h1v0.999h2V3h1V5.999z"  transform="translate(8,15)" style="color:darkaqua;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t\t<\!-- Distance Measurement END --\>\n\n\t\t\t<\!-- Zoom rectangle START --\>\n\t\t\t<div class="nm_zoomRectWrap nm_wrap nm_right" aria-expanded="false" unselectable="on" aria-hidden="true" >\n\t\t\t\t<div class="nm_zoomRectButton_icon_normal nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="zoomRect_normal">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 8,10 l 0,14 l 18,0 l 0,-14 z m 1,1 l 16,0 l 0,12 L 9,23 z" id="rect3114" style="color:#000000;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm_zoomRectButton_icon_pressed nm_singleButton" aria-role="button" unselectable="on">\n\t\t\t\t\t<div class="nm_firstBG"></div>\n\t\t\t\t\t<script type="CDATA" charset="zoomRect_pressed">\n\t\t\t\t\t\t<![CDATA[\n\t\t\t\t\t\t\t<path d="m 8,10 l 0,14 l 18,0 l 0,-14 z m 1,1 l 16,0 l 0,12 L 9,23 z" id="rect3114" style="color:darkaqua;fill:darkaqua;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />\n\t\t\t\t\t\t]]\>\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t\t<\!-- Zoom rectangle END --\>\n\n\t\t\t<\!-- Scalebar START --\>\n\t\t\t<\!--<div class="nm_scalebarAnchor" aria-hidden="true">--\>\n\t\t\t\t<div class="nm_scalebarWrap nm_wrap nm_metric nm_right"  aria-hidden="true">\n\t\t\t\t\t<div class="nm_scalebarTemplate" aria-role="button">\n\t\t\t\t\t\t<div class="nm_scaleBarExpandableElement"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="nm_scalebarUnitinfo" aria-hidden="true">__i18n_ovi.service.map._t26__</span>\n\t\t\t\t\t<\!--Style definition below is here because it reset everything and in CSS file should be easily changed without any warning.--\>\n\t\t\t\t\t<span class="nm_scalebarTextTester" style="text-align: left; font-weight: normal; font-size: 10px; font-family: Arial; font-style: normal; font-variant: normal; text-transform: none; text-decoration: none; visibility: hidden;"></span>\n\t\t\t\t</div>\n\t\t\t<\!--</div>--\>\n\t\t\t<\!-- Scalebar END --\>\n\t\t</div>\n\t\t\n\t\t<\!-- RightClick menu START --\>\n\t\t<div class="nm_rcMenu nm_wrap" aria-hidden="true" aria-role="menu">\n\t\t\t<div class="nm_rcMenuItem"></div>\n\t\t\t<div class="nm_rcMenuSeparator"></div>\n\t\t\t<div class="nm_rcMenuPin"></div>\n\t\t</div>\n\t\t<\!-- RightClick menu END --\>\n\t</body>\n</html>';
ovi.provide("nokia.maps.resources.ui.nokia_generic.css");nokia.maps.resources.ui.nokia_generic.css='.ovi_mp_controls{font-family:Arial,Helvetica,sans-serif;}.ovi_mp_controls ul,.ovi_mp_controls li,.ovi_mp_controls dl,.ovi_mp_controls dd{padding:0;margin:0;list-style:none;font-size:1em;}.nm_crnode a:hover{color:#0BD!important;}.nm_hidden,.ovi_mp_controls [aria-hidden="true"],.nm_infoBubble[aria-hidden="true"],.nm_rcMenu[aria-hidden="true"]{display:none!important;}.nm_conceal{visibility:hidden;}.ovi_mp_controls [aria-role="button"],.ovi_mp_controls [aria-role="option"],.ovi_mp_controls [aria-role="menuitem"],.ovi_mp_controls [aria-role="menuitemradio"]{min-width:3.4em;min-height:3.4em;cursor:pointer;}[aria-role="menuitemradio"] .nm_firstBG{width:3.2em;height:2.6em;margin:.3em 0;}.nm_layout_horizontal [aria-role="menuitemradio"] .nm_firstBG{margin:.3em 0;}.ovi_mp_controls [aria-disabled="true"]{cursor:default;}.nm_gfx{position:absolute;top:0;}.nm_wrap{-webkit-transform:scale(1);}.nm_hover .nm_wrap{opacity:1;}.nm_wrap:hover,.nm_wrap:focus,.nm_wrap[aria-expanded="true"],[aria-role="menuitemradio"]:focus{outline:none;opacity:1;}.nm_wrap:hover .nm_firstBG,.nm_wrap:focus .nm_firstBG{border-color:#FFF;opacity:1;outline:none;}.nm_firstBG{color:#000F1A;border:.1em solid #E6E6E6;background-image:-webkit-gradient(linear,0% 0,0% 100%,from(#ECECEC),to(#CCC));background-image:-webkit-linear-gradient(top,#ECECEC,#CCC);background-image:-moz-linear-gradient(top,#ECECEC,#CCC);background-image:-ms-linear-gradient(top,#ECECEC,#CCC);background-image:-o-linear-gradient(#ececec,#ccc);background-image:linear-gradient(top,#ECECEC,#CCC);background-color:#DBDBDB;-webkit-border-radius:.3em;-moz-border-radius:.3em;-o-border-radius:.3em;-ms-border-radius:.3em;border-radius:.3em;border-radius:0 \\0/;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ECECEC\',endColorstr=\'#CCCCCC\');}[aria-disabled="true"] .nm_firstBG,.nm_wrap[aria-disabled="true"]:hover .nm_firstBG,.nm_wrap[aria-disabled="true"]:active .nm_firstBG{background-image:none;background-color:#BFBFBF;filter:none;border-color:#E6E6E6;}.nm_firstBG:hover{color:#0BD;}.nm_notouch .nm_firstBG:focus,.nm_notouch .nm_secondBG:focus,.nm_notouch .nm_secondBG:hover{background-color:#0BD;color:white;}.nm_secondBG{color:#E6E6E6;background-color:#000F1A;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;white-space:nowrap;}.nm_hover [aria-role="button"]:hover .nm_secondBG,.nm_hover [aria-role="menuitem"]:hover .nm_secondBG,.nm_hover [aria-role="menuitemradio"]:hover .nm_secondBG,.ovi_mp_controls [aria-role="button"]:active .nm_secondBG,.ovi_mp_controls [aria-role="option"]:active .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:active .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:active .nm_secondBG,.ovi_mp_controls [aria-role="button"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="option"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:focus .nm_secondBG,[aria-role="menuitem"][aria-selected="true"] .nm_secondBG,[aria-role="menuitem"][aria-selected="true"]:focus .nm_secondBG,[aria-role="menuitem"][aria-selected="true"]:hover .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"] .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"]:focus .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"]:hover .nm_secondBG{background-color:#0BD;color:#FFF;}[aria-role="menuitem"][aria-selected="true"] .nm_secondBG,[aria-role="menuitemradio"][aria-checked="true"] .nm_secondBG{font-weight:bold;}.ovi_mp_controls [aria-role="button"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="option"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:focus .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:focus .nm_secondBG{border:.1em solid #fff;margin:-0.1em;}.ovi_mp_controls [aria-role="button"]:hover .nm_secondBG,.ovi_mp_controls [aria-role="menuitem"]:hover .nm_secondBG,.ovi_mp_controls [aria-role="menuitemradio"]:hover .nm_secondBG{background-color:#0BD;}.nm_thirdBG{background-image:-webkit-gradient(linear,0% 0,0% 100%,from(#ECECEC),to(#CCC));background-image:-moz-linear-gradient(top,#ECECEC,#CCC);background-image:-o-linear-gradient(#ececec,#ccc);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ECECEC\',endColorstr=\'#CCCCCC\');background-color:#DBDBDB;}[aria-disabled="true"] .nm_thirdBG{background-image:none;background-color:#BFBFBF;}.ovi_mp_controls .nm_wrapperBG{background-color:#000F1A;-webkit-border-radius:.5em;-moz-border-radius:.5em;-o-border-radius:.5em;border-radius:.5em;padding:0 .7em;}.nm_wrapperBG li{border-bottom:.1em solid #4E575F;display:block;height:3.2em;}.nm_wrapperBG li:first-child{visibility:hidden;}.nm_contentBG{background-color:#000F1A;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_singleButton{float:inherit;}.nm_singleButton .nm_firstBG{position:relative;width:2.6em;height:2.6em;margin:.3em;}.nm_buttonPair{position:relative;width:1.6em;height:6.8em;overflow:hidden;}.nm_buttonPair .nm_firstBG{width:1.4em;height:6.6em;margin:0 auto;}.nm_buttonPair .nm_zoomIn{margin-top:-6.6em;}.nm_buttonPair .nm_zoomOut{position:absolute;}[aria-expanded="true"] .nm_labelOpen{display:none!important;}[aria-expanded="false"] .nm_labelClose{display:none!important;}[aria-role="menuitemradio"] .nm_gfx{margin:-0.3em 0;}.nm_layout_horizontal [aria-role="menuitemradio"] .nm_gfx{margin:0;}.nm_arrangeableAnchor{position:absolute;width:100%;height:0;}.nm_arrangeableAnchor.nm_top{transition:all .5s;-moz-transition:all .5s;-webkit-transition:all .5s;-o-transition:all .5s;-ms-transition:all .5s;top:0;}.nm_adbar_top .nm_arrangeableAnchor.nm_top{top:28px;}.nm_arrangeableAnchor.nm_middle{top:50%;}.nm_arrangeableAnchor.nm_bottom{transition:all .5s;-moz-transition:all .5s;-webkit-transition:all .5s;-o-transition:all .5s;-ms-transition:all .5s;bottom:0;}.nm_adbar_bottom .nm_arrangeableAnchor.nm_bottom{bottom:28px;}.nm_bottom .nm_wrap{margin-top:-3.4em;}.nm_bottom .nm_gfx{top:auto;bottom:0;}.nm_left{float:left;}.nm_center{margin-left:50%;float:left;}.nm_right{float:right;}.nm_cover{position:absolute;top:0;width:3.4em;height:3.4em;}.nm_zoomHorAnchor{position:absolute;width:100%;top:50%;height:0;}.nm_zoomButtons{position:absolute;top:-3.4em;right:0;width:3.4em;-moz-transition:top 200ms linear,right 200ms linear,height 200ms linear;-webkit-transition:top 200ms linear,right 200ms linear,height 200ms linear;-o-transition:top 200ms linear,right 200ms linear,height 200ms linear;transition:top 200ms linear,right 200ms linear,height 200ms linear;-webkit-transform:scale(1);}.nm_zoomButtons .nm_firstBG{-moz-transition:width 200ms linear,height 200ms linear;-webkit-transition:width 200ms linear,height 200ms linear;-o-transition:width 200ms linear,height 200ms linear;transition:width 200ms linear,height 200ms linear;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomButtons{width:1.7em;height:3.4em;right:-0.2em;top:-1.7em;}.nm_zoomWrap[aria-expanded="false"].nm_left .nm_zoomButtons{left:-0.2em;right:auto;}.nm_zoomWrap[aria-expanded="false"]:active .nm_zoomButtons,.nm_zoomWrap[aria-expanded="false"].nm_active .nm_zoomButtons{top:-1.8em;height:3.6em;}.nm_zoomWrap[aria-expanded="false"]:active .nm_zoomButtons .nm_firstBG,.nm_zoomWrap[aria-expanded="false"].nm_active .nm_zoomButtons .nm_firstBG{height:3.6em;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomButtons .nm_firstBG{width:.7em;height:3.4em;border:none;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomButtons [aria-role="button"]{min-height:1.7em;min-width:1.7em;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomIn{margin-top:-3.4em;}.nm_zoomLevels{position:absolute;display:none;right:2.5em;width:3.4em;-moz-transition:right 200ms ease-out,margin-top 200ms linear;-webkit-transition:right 200ms ease-out,margin-top 200ms linear;-o-transition:right 200ms ease-out,margin-top 200ms linear;transition:right 200ms ease-out,margin-top 200ms linear;-webkit-transform:scale(1);}.nm_zoomWrap[aria-expanded="false"] .nm_zoomLevels{right:0;margin-top:-1.7em;}.nm_zoomLevels[aria-expanded="false"]{margin-top:-3.3em;}.nm_zoomLevels[aria-expanded="true"]{margin-top:-6.7em;}.nm_zoomSlider{-webkit-transform:scale(1);}.nm_zoomSlider .nm_secondBG{position:relative;margin:0 auto;-moz-transition:width 200ms linear,height 200ms linear;-webkit-transition:width 200ms linear,height 200ms linear;-o-transition:width 200ms linear,height 200ms linear;transition:width 200ms linear,height 200ms linear;}.nm_zoomWrap[aria-expanded="false"] .nm_secondBG{width:.4em;height:3.3em;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomLevels[aria-expanded="false"] .nm_secondBG{width:.6em;height:6.8em;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomLevels[aria-expanded="false"]:active .nm_secondBG,.nm_zoomWrap[aria-expanded="true"] .nm_zoomLevels[aria-expanded="false"].nm_active .nm_secondBG{height:6.392em;width:.564em;margin-top:.3em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSlider .nm_secondBG{width:1.2em;height:13.4em;}.nm_zoomLevels[aria-expanded="true"]:active .nm_secondBG,.nm_zoomLevels[aria-expanded="true"].nm_active .nm_secondBG{width:1.176em;height:13.132em;margin-top:.134em;}.nm_zoomSliderTrack{position:absolute;left:0;width:100%;background-color:transparent;}.nm_zoomWrap[aria-expanded="false"] .nm_zoomSliderTrack{top:.2em;height:2.8em;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomSliderTrack{top:.4em;height:5.8em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSliderTrack{height:11.3em;top:1.05em;}.nm_zoomSliderKnob{position:absolute;margin-top:-1.7em;margin-left:0;cursor:pointer;}.nm_zoomSliderKnob[aria-disabled="true"]{width:.4em;height:.2em;min-width:.4em;min-height:.2em;left:1.5em;margin-top:-0.1em;}.nm_zoomSliderKnob .nm_thirdBG{position:absolute;width:.2em;height:.4em;top:0;left:.1em;-webkit-border-radius:.1em;-moz-border-radius:.1em;-o-border-radius:.1em;border-radius:.1em;-moz-transition:width 200ms linear,height 200ms linear;-webkit-transition:width 200ms linear,height 200ms linear;-o-transition:width 200ms linear,height 200ms linear;transition:width 200ms linear,height 200ms linear;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomSliderKnob[aria-disabled="true"]{margin-top:-0.3em;left:1.4em;min-width:0;min-height:0;}.nm_zoomWrap[aria-expanded="true"] .nm_zoomSliderKnob .nm_thirdBG{width:.4em;height:.8em;top:0;left:.1em;-webkit-border-radius:.2em;-moz-border-radius:.2em;-o-border-radius:.2em;border-radius:.2em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSliderKnob .nm_thirdBG{width:.8em;height:1.8em;top:.8em;left:1.3em;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_zoomLevels[aria-expanded="true"] .nm_zoomSliderKnob:active .nm_thirdBG{width:.784em;height:1.72em;background-color:red;}.nm_zoomBookmarks{position:absolute;top:0;list-style:none;margin:0;padding:0;-webkit-transform:scale(1);}.nm_right .nm_zoomBookmarks{text-align:right;right:3.4em;}.nm_zoomLevels[aria-expanded="false"] .nm_zoomBookmarks{display:none;}.nm_zoomBookmark{padding:0;line-height:3.4em;}.nm_zoomBookmark .nm_secondBG{width:100%;padding:.1em .6em;white-space:pre;}.nm_left .nm_zoomButtons{left:0;right:auto;}.nm_left .nm_zoomLevels{left:0;right:auto;margin-left:2.5em;}.nm_left .nm_zoomBookmarks{margin-left:3.4em;}.nm_left[aria-expanded="false"] .nm_zoomLevels{margin-left:0!important;margin-top:-1.6em!important;}.nm_positioningWrap{width:3.4em;overflow:hidden;}.nm_positioningWrap[aria-pressed="true"] .nm_pos_icon_normal{display:none;}.nm_positioningWrap[aria-pressed="false"] .nm_pos_icon_pressed{display:none;}.nm_positioningWrap[aria-busy="false"] .nm_pos_icon_busy{display:none;}.nm_positioningWrap[aria-busy="true"] .nm_pos_icon_normal,.nm_positioningWrap[aria-busy="true"] .nm_pos_icon_pressed{display:none;}.nm_positioningWrap:active .nm_firstBG{background-image:none;filter:none;background-color:#333;}.nm_infoBubble{cursor:default;position:absolute;left:400px;top:100px;white-space:normal;outline:none;margin:8px;color:white;-webkit-transform:scale(1);box-shadow:0 0 1px #ccc;z-index:100;}.nm_bubble{font-family:arial,helvetica,sans;-webkit-border-radius:.4em;-moz-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_infoBubble .nm_bubble_bg{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;}.nm_noborder{border:0!important;}.nm_bubble_lp0{padding-left:0!important;}.nm_bubble_content{padding:1.5em;font-size:1em;}.nm_bubble_sidelinks{right:1.5em;position:absolute;text-align:right;}.nm_bubble_sidelinks a{color:#595;text-decoration:none;}.nm_hover .nm_bubble_sidelinks a:hover{text-decoration:underline;}.nm_bubble_content a,.nm_bubble_content a:visited{color:white;}.nm_bubble_content p{margin:0 0 .5em 0;}.nm_bubble_controls{position:absolute;top:-0.3em;right:.3em;}.nm_bubble_control_close{cursor:pointer;}.nm_bubble_controls a,.nm_bubble_control_close{color:#999;text-decoration:none;font-size:2em;}.nm_bubble_linksbar{display:none;margin:0 1.5em;padding:1.0em 0 1.0em 0;border-top:.1em solid #d2d2d2;}.nm_bubble_linksbar a{text-decoration:none;color:#595;padding:0 .7em 0 .5em;border-right:.1em solid #cfcfcf;}.nm_hover .nm_bubble_linksbar a:hover{text-decoration:underline;}.nm_bubble_tail{position:absolute;z-index:-10;}.nm_right[aria-role="menubar"]{margin-right:.3em;}.nm_left[aria-role="menubar"]{margin-left:.3em;}.ovi_mp_controls .nm_mapSelectorWrap{position:relative;}.nm_ie78 .nm_mapSelectorWrap{position:relative;float:right;}.nm_mapSettingsWrap{-webkit-transform:scale(1);}.nm_layout_horizontal[aria-role="menubar"] .nm_wrapperBG{height:2.8em;margin-top:.3em;margin-bottom:-3.1em;}.nm_openVertSelector[aria-role="menubar"] .nm_wrapperBG{height:13.5em;margin-bottom:-13.8em;}.nm_openVertSelector.nm_has3D[aria-role="menubar"] .nm_wrapperBG{height:16.5em;margin-bottom:-16.8em;}.nm_openVertSelector[aria-role="menubar"] .nm_dropDownMenu .nm_globe,.nm_openVertSelector[aria-role="menubar"] .nm_wrapperBG .nm_3DBG,.nm_layout_horizontal[aria-role="menubar"] .nm_wrapperBG li,.nm_layout_horizontal[aria-role="menubar"] .nm_wrapperBG li.nm_3DBG{display:none;visibility:hidden;}.nm_openVertSelector.nm_has3D[aria-role="menubar"] .nm_dropDownMenu .nm_globe,.nm_openVertSelector.nm_has3D[aria-role="menubar"] .nm_wrapperBG .nm_3DBG{display:block;visibility:visible;}[aria-role="menubar"][aria-expanded="false"] .nm_wrapperBG{display:none;visibility:hidden;}[aria-role="menubar"] [aria-role="menuitem"] .nm_firstBG,[aria-role="menubar"] [aria-role="menuitemradio"] .nm_firstBG{-webkit-border-radius:0;-moz-border-radius:0;-o-border-radius:0;border-radius:0;}.nm_left[aria-role="menubar"] [aria-role="menu"]:first-child .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitem"]:first-child .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitemradio"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menu"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitem"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitemradio"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] .nm_lastInGroup[aria-role="menu"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitem"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitemradio"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_firstInGroup[aria-role="menu"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitem"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitemradio"] .nm_firstBG{-webkit-border-top-right-radius:.4em;-webkit-border-bottom-right-radius:.4em;-moz-border-radius-topright:.4em;-moz-border-radius-bottomright:.4em;-o-border-top-right-radius:.4em;-o-border-bottom-right-radius:.4em;border-top-right-radius:.4em;border-bottom-right-radius:.4em;border-radius:0 \\0/;}.nm_left[aria-role="menubar"] [aria-role="menu"]:nth-child(2) .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitem"]:nth-child(2) .nm_firstBG,.nm_left[aria-role="menubar"] [aria-role="menuitemradio"]:nth-child(2) .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menu"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitem"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitemradio"]:first-child .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menu"]:nth-child(1)+li .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitem"]:nth-child(1)+li .nm_firstBG,.nm_right[aria-role="menubar"] [aria-role="menuitemradio"]:nth-child(1)+li .nm_firstBG,.nm_right[aria-role="menubar"] .nm_firstInGroup[aria-role="menu"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitem"] .nm_firstBG,.nm_right[aria-role="menubar"] .nm_firstInGroup[aria-role="menuitemradio"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_lastInGroup[aria-role="menu"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitem"] .nm_firstBG,.nm_left[aria-role="menubar"] .nm_lastInGroup[aria-role="menuitemradio"] .nm_firstBG{-webkit-border-top-left-radius:.4em;-webkit-border-bottom-left-radius:.4em;-moz-border-radius-topleft:.4em;-moz-border-radius-bottomleft:.4em;-o-border-top-left-radius:.4em;-o-border-bottom-left-radius:.4em;border-top-left-radius:.4em;border-bottom-left-radius:.4em;border-radius:0 \\0/;}.nm_right>[aria-role="menu"],.nm_right>[aria-role="menuitem"],.nm_right>[aria-role="menuitemradio"]{float:right;}.nm_left>[aria-role="menu"],.nm_left>[aria-role="menuitem"],.nm_left>[aria-role="menuitemradio"]{float:left;}.nm_layout_horizontal[aria-role="menubar"] .nm_dropDownMenu{height:auto;margin:0;}.nm_layout_horizontal[aria-role="menubar"] .nm_dropDownMenu.nm_layout_horizontal{display:inline;float:inherit;height:auto;background:none;margin:0;}.nm_left .nm_ie78.nm_dropDownMenu{float:left;}.nm_right .nm_ie78.nm_dropDownMenu{float:right;}.nm_left [aria-role="menu"].nm_layout_horizontal dt{float:left;text-align:left;}.nm_right [aria-role="menu"].nm_layout_horizontal dt{float:right;text-align:right;}.nm_dropDownMenu{margin:0;}.nm_dropDownMenu dt .nm_firstBG{display:block;line-height:2.6em;margin:.3em 0;padding:0 1em;font-weight:bold;min-height:2.6em;}.nm_dropDownMenu.nm_layout_horizontal [aria-role="menuitemradio"]{display:inline;float:left;}.nm_right .nm_dropDownMenu.nm_layout_horizontal [aria-role="menuitemradio"]{float:right;}.nm_dropDownMenu[aria-expanded="false"] [aria-role="menuitemradio"]{display:none;}.nm_dropDownMenu dd{line-height:3.4em;margin:0 .6em;white-space:nowrap;}.nm_ie78 .nm_layout_horizontal.nm_dropDownMenu dd{margin:0 .6em;}.nm_mapSelectorWrap.nm_layout_horizontal .nm_dropDownMenu dd{border-bottom:none;}.nm_dropDownMenu dd.nm_last{border-bottom:none;}.nm_dropDownMenu dd .nm_secondBG{display:inline;padding:.5em 1em;margin:0;}.nm_dropDownMenu dd .nm_icon{display:none;position:absolute;left:1.3em;color:white;margin:.6em 0 0;width:2.3em;height:2.3em;background-color:orange;*margin:0;}.nm_right .nm_icon{position:relative;float:left;left:0;}.nm_dropDownMenu .nm_labelClose{color:#00BBDC;font-weight:bold;line-height:3.4em;padding:0 1.2em;}.nm_dropDownMenu[aria-expanded="false"]{background:none;}.nm_dropdown_arrow{width:0;height:0;border:0;border-top:.4em solid #333;border-right:.4em solid transparent;border-left:.4em solid transparent;display:inline-block;padding:.1em 0 0 0;margin:0 .4em 0;}.nm_layout_horizontal .nm_dropdown_arrow{border-right:.3em solid #333;border-top:.3em solid transparent;border-bottom:.3em solid transparent;border-left:0;padding:0;}.nm_layout_horizontal .nm_dropDownMenu:focus .nm_dropdown_arrow,.nm_layout_horizontal .nm_dropDownMenu:hover .nm_dropdown_arrow{border-right-color:#00BBDC;}.nm_rcMenu{font-family:arial,helvetica,sans;padding-bottom:8px;background-color:#000F1A;zoom:1;position:absolute;z-index:3;width:158px;-moz-border-radius:.4em;-webkit-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;}.nm_rcMenu,.nm_rcMenu span{color:#fff;font-weight:normal;}.nm_rcMenu .nm_rcMenuItemHeader{zoom:1;padding:10px!important;-moz-border-radius-topleft:.4em;-moz-border-radius-topright:.4em;-webkit-border-top-left-radius:.4em;-webkit-border-top-right-radius:.4em;-o-border-top-left-radius:.4em;-o-border-top-right-radius:.4em;border-top-left-radius:.4em;border-top-right-radius:.4em;color:#fff!important;}.nm_rcMenu .nm_rcMenuItem.top{margin-top:8px;}.nm_rcMenu .nm_rcMenuItem{overflow:hidden;text-align:left;padding:1px 10px 0 10px;cursor:default;}.clickable:hover,.nm_rcMenu.nm_hover .clickable:hover{background-color:#00BBDC;zoom:1;color:#FFF;cursor:pointer;color:#888;}.nm_rcMenu .nm_rcMenuItem.clickable{color:#fff;}.nm_rcMenu .nm_rcMenuSeparator{height:0;margin:8px 10px;border-top:1px solid #333;border-bottom:1px solid #666;line-height:0;font-size:0;}.nm_rcMenu .nm_rcMenuSeparatorHeader{margin-left:0;margin-right:0;margin-top:0;line-height:0;}.nm_rcMenuPin{width:32px;height:32px;background:url("assets/ovi/mapsapi/ui/images/ovi_web/controls.png") no-repeat -76px -60px;position:absolute;}.nm_overviewAnchor{margin:.4em;margin-right:0;float:right;margin-top:-29px;}.nm_overviewWrap,.nm_rulerWrap,.nm_zoomRectWrap{margin-bottom:.3em;overflow:hidden;bottom:inherit;width:3.4em;height:3.4em;-webkit-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;-moz-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;-o-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;-ms-transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;transition:width .3s ease-in-out,height .3s ease-in-out,margin-top .3s ease-in-out;}.nm_overviewWrap.anim{width:300px;height:200px;}.nm_overviewMap{width:0;height:0;border:.1em solid #333;background-color:#EEE;}.nm_overviewButton,.nm_rulerButton_icon_normal,.nm_rulerButton_icon_pressed,.nm_zoomRectButton_icon_normal,.nm_zoomRectButton_icon_pressed{position:absolute;float:none;bottom:0;}.nm_left .nm_overviewButton{left:0;}.nm_right .nm_overviewButton{right:0;}.nm_ie78 .nm_overviewButton .nm_gfx,.nm_ie78 .nm_rulerButton_icon_normal .nm_gfx,.nm_ie78 .nm_rulerButton_icon_pressed .nm_gfx,.nm_ie78 .nm_zoomRectButton_icon_normal .nm_gfx,.nm_ie78 .nm_zoomRectButton_icon_pressed .nm_gfx{top:0;}.nm_overviewWrap[aria-expanded="false"] .nm_overviewMap{display:none;}.nm_bottom .nm_scalebarTemplate .nm_gfx{margin-top:1.3em;bottom:auto;position:static;}.nm_rulerWrap,.nm_zoomRectWrap{margin-bottom:.3em;}.nm_rulerWrap[aria-pressed="true"] .nm_rulerButton_icon_normal,.nm_zoomRectWrap[aria-pressed="true"] .nm_zoomRectButton_icon_normal{display:none;}.nm_rulerWrap[aria-pressed="false"] .nm_rulerButton_icon_pressed,.nm_zoomRectWrap[aria-pressed="false"] .nm_zoomRectButton_icon_pressed{display:none;}.nm_streetLevelWrap[aria-pressed="true"] .nm_firstBG{background-color:#09b;background-image:none;}.nm_streetLevelWrap[aria-hidden="true"],.nm_streetLevelWrap .nm_street_level_leave,.nm_streetLevelWrap[aria-pressed="false"] .nm_street_level_icon_pressed,.nm_streetLevelWrap[aria-pressed="false"] .nm_street_level_icon_hover,.nm_streetLevelWrap[aria-pressed="true"] .nm_street_level_icon,.nm_streetLevelWrap[aria-pressed="true"] .nm_street_level_icon_hover,.nm_streetLevelWrap[aria-pressed="true"]:hover .nm_street_level_icon_hover,.nm_streetLevelWrap:hover .nm_street_level_icon,.nm_streetLevelWrap.nm_street_level_running .nm_street_level_icon,.nm_streetLevelWrap.nm_street_level_running:hover .nm_street_level_icon_hover{display:none;}.nm_streetLevelWrap[aria-pressed="true"] .nm_street_level_icon_pressed,.nm_streetLevelWrap:hover .nm_street_level_icon_hover,.nm_streetLevelWrap.nm_street_level_running .nm_street_level_leave{display:block;}.nm_streetLevelWrap .nm_street_level_leave{font-weight:bold;margin:6px 0;}.nm_streetLevelWrap.nm_street_level_running .nm_firstBG{width:auto;padding:0 5px;}.nm_miniman,.nm_miniman_point{display:none;width:30px;background-image:url(\'assets/ovi/mapsapi/ui/images/panorama/miniman.png\');position:absolute;pointer-events:none;}.nm_miniman{background-position:0 -37px;height:38px;width:30px;z-index:1000;}.nm_miniman.nm_miniman_moving{background-position:0 0;}.nm_miniman.nm_is_covered{background-position:0 -75px;}.nm_miniman_point{height:14px;background-position:0 -134px;z-index:999;}.nm_miniman_point.nm_miniman_point_animate{transition:opacity .5s ease-out;-webkit-transition:opacity .5s ease-out;-moz-transition:opacity .5s ease-out;-o-transition:opacity .5s ease-out;-ms-transition:opacity .5s ease-out;}';
(function(e){function l(a){var b=u[a];b||g.d("No valid WAI-ARIA name: "+a);return b}var h=e.ui.common,d=e.ui.nokia_generic,c=e.gfx,g=e.util,b=e.dom,f=b.Page,r=e.dom.EventTarget,a=b.Cj,q=h.GfxTemplate,k=h.ColorSet,h=h.ColorScheme,m=e.ui.AbstractUIComponent,p=b.contains,z=ovi.bind,s=ovi.dom.addClass,u={disabled:"aria-disabled",expanded:"aria-expanded",hidden:"aria-hidden",pressed:"aria-pressed",selected:"aria-selected",checked:"aria-checked",valuenow:"aria-valuenow",valuemax:"aria-valuemax",valuemin:"aria-valuemin",
busy:"aria-BUSY",role:"aria-role"},w={},x=f.browser.msie,v=!!(f.browser.msie&&f.browser.version<9),y=f.browser.touch,B=y?"touch":"mouse",C=y?"tap":"click",A=y?"dbltap":"dblclick",D=B+(y?"start":"down"),E=B+(y?"end":"up"),O=B+"move",I=B+"enter",L=B+"leave",N=B+"over";B+="out";var G=f.browser.mobile,M=new c.Painter.defaultPainter,f=new k({background:"#fff0",border:"#fff0",stroke:"#333",fill:"#333",text:"#333"}),$=new h({normal:f,disable:new k({stroke:"#999",fill:"#999",text:"#999"},f),focus:new k({stroke:"#0BD",
fill:"#0BD",text:"#0BD"},f),active:new k({stroke:"#0BD",fill:"#0BD",text:"#0BD"},f)}),F=d.UIComponent=new ovi.Class({Extends:e.ui.UIComponent,initialize:function(a){var b=this;b.I=z(b,b.I);b.Pf=z(b,b.Pf);b.H=z(b,b.H);b.uk=z(b,b.uk);b.Kc=z(function(a){a.preventDefault()});b._super(a);b.yf=["nm_draggable","nm_dragging","nm_pointer","nm_wait"];b.Uc=[];b.Xp=[];b.M=[];b.zj=[];b.jf=G?1.5:1;b.xf="vertical";b.Kb=ovi.bind(b,b.Kb);b.ik=ovi.bind(b,b.ik);b.Fr=function(){b.Mk()}},Statics:{CSS_CONCEAL:"nm_conceal",
EVENT_CLICK:C,EVENT_DBLCLICK:A,EVENT_LONGPRESS:"longpress",EVENT_DOWN:D,EVENT_UP:E,EVENT_MOVE:O,EVENT_ENTER:I,EVENT_LEAVE:L,EVENT_OUT:B,EVENT_OVER:N,EVENT_DRAGSTART:"dragstart",EVENT_DRAG:"drag",EVENT_DRAGEND:"dragend",EVENT_DROP:"drop",EVENT_FOCUS:"focus",EVENT_BLUR:"blur",EVENT_KEYDOWN:"keydown",LAYOUT_HORIZONTAL:"horizontal",LAYOUT_VERTICAL:"vertical",CSS_CLASS_PREFIX:"nm_",CSS_GFX:"nm_gfx"},attach:function(a){this._super(a);G&&s(this.node,"nm_hover");if(!v&&!this.isCloning)this.node=r(this.node),
this.node.addListener(F.EVENT_KEYDOWN,this.Kb),this.node.addListener(F.EVENT_BLUR,this.ik),this.node.setAttribute("tabindex",0)},detach:function(a){!v&&!this.isCloning&&(this.node.removeListener(F.EVENT_KEYDOWN,this.Kb),this.node.removeListener(F.EVENT_BLUR,this.ik));this.Af();this._super(a)},getTemplate:function(){var a=this.mapDisplay,b;if(!a.$ui)a.$ui=m.renderTemplate(a,nokia.maps.resources.ui.nokia_generic.html,this.ao(nokia.maps.resources.ui.nokia_generic.css,e.loadPath,/url\([\"\']?((\.\.\/)*[a-zA-Z0-9\/\-\_]*[\.][a-zA-Z0-9]{3,})[\"\']?\)/gi)),
b=this.getRootNode(),b.style.cssText+=";font-size:"+this.jf+"em;",b=b.parentNode.parentNode,b.style.cssText+=";font-size:10px !important;",v&&s(b,"nm_ie78");return a.$ui},po:function(a){this.Pj?this.he(a):(s(this.mapDisplay.T,a),this.vb(a))},setCursorDraggable:function(){this.po("nm_draggable")},setCursorPointer:function(){this.po("nm_pointer")},setCursorWait:function(){this.po("nm_wait")},setCursorDefault:function(){this.Pj=0;this.Pg();this.Uc.length?this.qo():this.vb()},setCursorDragging:function(){this.Pj=
1;s(this.mapDisplay.T,"nm_dragging");this.vb("nm_dragging");this.he("nm_draggable");this.vj=setTimeout(this.Fr,1E3)},keepCursorDragging:function(){if(!this.Pj)this.setCursorDragging(),this.Pg(),this.vj=setTimeout(this.Fr,500)},he:function(a){this.Uc.push(a)},qo:function(){var a=this.Uc.pop();s(this.mapDisplay.T,a);this.vb(a);this.Uc=[]},vb:function(a){for(var b=this.yf.length,c=this.mapDisplay.T,d;b--;)(d=this.yf[b])!==a&&ovi.dom.removeClass(c,d)},Kb:function(){},ik:function(){},mr:y?function(a){var b=
a.currentTarget,c=this.zj;c[c.length-1]!==b&&this.zj.push(b);a&&a.preventDefault();this.setCssActive(b,!0)}:g.u,pv:y?function(){var a;if(a=this.zj[0])this.zj.shift(),this.setCssActive(a,!1)}:g.u,setCssActive:function(a,b){a&&ovi.dom[b?"addClass":"removeClass"](a,"nm_active")},Mk:function(){this.Pj=0;this.vb()},Pg:function(){if(this.vj)clearTimeout(this.vj),this.vj=0},show:function(){this.setAria("hidden",!1)},hide:function(){this.setAria("hidden",!0)},showTooltip:function(a,b){var c=this.mapDisplay.getComponentById("Tooltip");
(c||this.mapDisplay.components.add(c=new d.TooltipComponent))&&c.addTooltip(a,b)},hideTooltip:function(){var a=this.mapDisplay.getComponentById("Tooltip");a&&a.removeTooltip()},hiddenSetter:function(a){this.node&&this.node.setAttribute("aria-hidden",!!a);return a},Eo:function(a){a.preventDefault();a.stopPropagation()},getAria:function(a,b){var c;c=(b||this.node).getAttribute(l(a));return c==="true"||(c?c==="false"?!1:isNaN(c)&&c||+c:null)},hasAria:function(a,b){return this.getAria(a,b)!==null},hasAriaValue:function(a,
b,c){return this.getAria(a,c)===b},setAria:function(a,b,c){(c||this.node).setAttribute(l(a),b)},conceal:function(){this.set("conceal",!0)},reveal:function(){this.set("conceal",!1)},concealSetter:function(a){this.node&&ovi.dom[a?"addClass":"removeClass"](this.node,"nm_conceal");return!!a},isConcealed:function(a){return ovi.dom.hasClass(a||this.node,"nm_conceal")},Ax:function(){ovi.dom.toggleClass(this.node,"nm_conceal")},ix:function(){for(var a=this.Xp,b=a.length;b--;)if(this.getAria("expanded",a[b]))break;
return b+1},xx:function(){for(var a=0,b;b=arguments[a++];)this.Xp.push(b)},ww:g.u,layoutHorizontal:function(){this.xf="horizontal";this.oa&&s(this.oa,"nm_layout_horizontal")},layoutVertical:function(){this.xf="vertical";this.oa&&ovi.dom.removeClass(this.oa,"nm_layout_horizontal")},triggerRedraw:x||G?function(a){var b=this,c=a||null;b.set("conceal",!0);setTimeout(function(){b.set("conceal",!1);c&&c.apply(b,[])},50)}:g.u,Wu:function(a){var b=this;return function(c,d,e){b.Ov(c,d,e,a)}},Ov:function(a,
b,c,d){var e=a.parentNode,a=w[c]={kh:a,la:e,Hq:0,Do:{}},f,g;for(g in d)if((f=d[g])instanceof k)a.Do[g]={uw:new q(/<svg/.test(b)?b:"<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='34' width='34'>"+b+"</svg>",f)};this.setGraphics(c,"normal",this.jf,0,0);this.Gt(e)},Gt:v?function(a){var b=document.createElement("DIV");this.findElement("nm_gfx",a);b.className="nm_cover";a.appendChild(b)}:g.u,initGraphics:function(b,c){c=c==="default"?$:c||{normal:new k};a(b,this.Wu(c))},setGraphics:function(a,
b,d,e,f){var d=d||this.jf,e=e||0,f=f&3||0,g=w[a],b=b?g.Do[b]:g.Do.normal,k=d+"_"+e+"_"+f,h=b[k];h||(h=b[k]=b.uw.stencil(d,e,f));g.Hq===d?M.updateElement(h.getIDL(),g.kh):(b=g.kh.parentNode,b.replaceChild(e=(h=new c.GraphicsImage(h)).createElement(),g.kh),!b.$init&&this.getAria("role",b)==="button"&&this.Kj(b,h.width,h.height),g.kh=e,g.Hq=d,e.className="nm_gfx nm_gfx_"+a);return g.kh},Kj:!v?function(a,c,d,e){if(!a.$init){var f=a.style;c&&(f.width=c+"px");d&&(f.height=d+"px");e&&(f.position="relative");
f.overflow="hidden";c=b.pb(a,"div",!1,"width:100%;height:100%;position:absolute;top:0;left:0;opacity:0;background-color: white;");c.addEventListener("MSHoldVisual",function(a){a.preventDefault()},!1);c.addEventListener("contextmenu",function(a){a.preventDefault()},!1)}a.$init=!0}:g.u,Oc:function(){for(var a=arguments.length,b;a--;)b=arguments[a],G?b.addListener(F.EVENT_CLICK,this.uk,!0):(b.addListener(F.EVENT_OVER,this.I,!0),b.addListener(F.EVENT_OUT,this.H,!0),b.addListener(F.EVENT_DOWN,this.Pf,
!0),b.addListener(F.EVENT_UP,y?this.H:this.I,!0))},Af:function(){for(var a=arguments.length,b;a--;)b=arguments[a],G?b.removeListener(F.EVENT_CLICK,this.uk,!0):(b.removeListener(F.EVENT_OVER,this.I,!0),b.removeListener(F.EVENT_DOWN,this.Pf,!0),b.removeListener(F.EVENT_UP,y?this.H:this.I,!0),b.removeListener(F.EVENT_OUT,this.H,!0))},isMouseover:function(a){return!a.relatedTarget||p(a.currentTarget.ownerDocument.documentElement,a.relatedTarget)&&!p(a.currentTarget,a.relatedTarget)},uk:function(a){a=
this.getGraphicsIdByNode(a.currentTarget);this.yq?(a&&this.setGraphics(a,"normal"),this.yq=!1):(a&&this.setGraphics(a,"active"),this.yq=!0)},isMouseout:function(a){return!a.relatedTarget||!p(a.currentTarget,a.relatedTarget)},I:function(a){this.isMouseover(a)&&(a=this.getGraphicsIdByNode(a.currentTarget))&&this.setGraphics(a,"focus")},H:function(a){this.isMouseout(a)&&(a=this.getGraphicsIdByNode(a.currentTarget))&&this.setGraphics(a,"normal")},Pf:function(a){(a=this.getGraphicsIdByNode(a.currentTarget))&&
this.setGraphics(a,"active")},getGraphicsIdByNode:function(a){for(var b in w)if(w[b]&&w[b].la===a)return b},Qk:function(){var a=this.getAria("hidden",this.node),b=["menu","menuitem","menuitemradio"],c=this.node.parentNode.childNodes,d=c.length,e=b.length,f,g=[];f=ovi.dom;var k=f.addClass,h=f.removeClass;if(d==1)k(this.node,"nm_lastInGroup"),k(this.node,"nm_firstInGroup");else{for(;d--;)if(f=c[d],f.nodeType==1){if(f===this.node&&!a)h(f,"nm_lastInGroup"),h(f,"nm_firstInGroup"),g.push(f);else for(;e--;)if(this.hasAriaValue("role",
b[e],f)&&!this.getAria("hidden",f)){h(f,"nm_lastInGroup");h(f,"nm_firstInGroup");g.push(f);break}e=b.length}g.length>0&&(k(g[0],"nm_firstInGroup"),k(g.pop(),"nm_lastInGroup"))}}});e.ui.UIComponent=F})(nokia.maps);ovi.provide("nokia.maps.map.component.Overview");
(function(e){var l=Math,h=l.round,d=l.min;e.map.component.Overview=new ovi.Class({Extends:e.ui.UIComponent,initialize:function(c){this._super(c);this.q=this.PANORAMA|this.GLOBE|this.MAP_2D;this.gb=ovi.bind(this,this.gb)},c:"Overview",n:"0.0.0.1",attach:function(c){this._super(c);this.mainBgColor=c.ed.style.backgroundColor;c.addObserver("center",this.Ee,this);c.addObserver("zoomLevel",this.Ge,this);c.addListener("resizeend",this.gb)},detach:function(c){c.removeObserver("center",this.Ee,this);c.removeObserver("zoomLevel",
this.Ge,this);c.removeListener("resizeend",this.gb);this._super(c)},showMap:function(c){if(!this.miniMapDisplay)this.pf=3,this.miniMapDisplay=new e.map.Display(c,{draggable:!1,parentDisplay:this.mapDisplay,center:this.mapDisplay.center,zoomLevel:this.mapDisplay.zoomLevel-this.pf})},updateMinimap:function(){this.Ee.call(this,null,null,this.mapDisplay.center,null);this.Ge.call(this,null,null,this.mapDisplay.zoomLevel,null)},Ee:function(c,d,b){this.miniMapDisplay&&this.miniMapDisplay.setCenter(b,"none")},
Ge:function(c,d,b){this.miniMapDisplay&&(b=b-this.pf>=this.miniMapDisplay.minZoomLevel?b-this.pf:this.miniMapDisplay.minZoomLevel,this.miniMapDisplay.setZoomLevel(b,"none"))},gb:function(){var c;this.expanded&&(c=this.getMinimapDimensions(),this.resize(c.width,c.height))},getMinimapDimensions:function(){return{width:d(200,h(this.mapDisplay.da.offsetWidth*0.25)),height:d(150,h(this.mapDisplay.da.offsetHeight*0.33))}}})})(nokia.maps);ovi.provide("nokia.maps.map.component.PublicTransport");
(function(e){e.map.component.PublicTransport=new ovi.Class({Extends:e.ui.UIComponent,attach:function(e){this.q=this.MAP_2D;this._super(e)},detach:function(e){this._super(e)},c:"PublicTransport",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.TypeSelector");
(function(e){e.map.component.TypeSelector=new ovi.Class({Extends:e.ui.UIComponent,attach:function(e){this.q=this.MAP_2D+this.GLOBE;this._super(e);this.updateType&&this.mapDisplay.addObserver("baseMapType",this.updateType,this)},detach:function(e){this.updateType&&this.mapDisplay.removeObserver("baseMapType",this.updateType,this);this._super(e)},c:"TypeSelector",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.InfoBubbles");
(function(e){var l=e.util,h=l.d;e.map.component.InfoBubbles=new ovi.Class({Extends:e.ui.UIComponent,ALIGNMENT_LEFT:"left",ALIGNMENT_RIGHT:"right",ALIGNMENT_ABOVE:"above",ALIGNMENT_BELOW:"below",DIMENSION_AUTO:"auto",openBubbleHandles:null,initialize:function(){var d=this;d.q=d.MAP_2D;d._super();d.Uh=function(){d.Oh()};d.Jh=function(c){var e=c.target;e.$locationData?(d.openBubble(e.$locationData),c.preventDefault()):e.metaData&&e.metaData.Search&&(d.openBubble(e.metaData.Search),c.preventDefault())};
d.ka=function(){d.Oh()};d.ai={};d.openBubbleHandles=new l.OList;d.set("options",new l.OObject({defaultXAlignment:"right",defaultYAlignment:"below",defaultWidth:"auto",defaultHeight:"auto",autoClose:!0,backgroundColor:"#000",color:"#fff"}))},c:"InfoBubbles",n:"0.0.0.1",Wh:function(d,c,e){if(c==="remove"&&(d=this.ai[e]))delete this.ai[e],delete d.lu},attach:function(d){this._super(d);this.set("openHandlesList",this.openBubbleHandles);e.map.plugin&&d instanceof e.map.plugin.Display?d.addListener("mapviewchangeend",
this.Uh):(d.addListener("resize",this.ka,this),d.addListener("resizeend",this.ka,this),d.addObserver("center",this.ka,this),d.addObserver("zoomLevel",this.ka,this),d.addListener("mapviewchange",this.ka));d.addListener("click",this.Jh);this.openBubbleHandles.addObserver(this.Wh,this)},detach:function(d){e.map.plugin&&d instanceof e.map.plugin.Display?d.removeListener("mapviewchangeend",this.Uh):(d.removeListener("resize",this.ka,this),d.removeListener("resizeend",this.ka,this),d.removeObserver("center",
this.ka,this),d.removeObserver("zoomLevel",this.ka,this),d.removeListener("mapviewchangeend",this.ka));d.removeListener("click",this.Jh);this.openBubbleHandles.removeObserver(this.Wh,this);this.set("openHandlesList",null);this.options.style=null;this._super(d)},closeBubble:function(d){d&&typeof d.close==="function"?d.close():h("The argument needs to be a bubble instance")}})})(nokia.maps);ovi.provide("nokia.maps.map.component.ZoomBar");
(function(e){e.map.component.ZoomBar=new ovi.Class({Extends:e.ui.UIComponent,attach:function(e){this.q=this.MAP_2D|this.GLOBE;this._super(e);this.updateZoomLevel&&this.mapDisplay.addObserver("zoomLevel",this.updateZoomLevel,this)},detach:function(e){this.updateZoomLevel&&this.mapDisplay.removeObserver("zoomLevel",this.updateZoomLevel,this);this._super(e)},c:"ZoomBar",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.ZoomRectangle");
(function(e){var l=e.dom,h=Math.abs,d=e.map.Display;e.map.component.ZoomRectangle=new ovi.Class({Extends:e.ui.UIComponent,initialize:function(c){this._super(c);this.q=this.MAP_2D|this.GLOBE;this.eb=ovi.bind(this,this.eb);this.Xc=ovi.bind(this,this.Xc);this.Yc=ovi.bind(this,this.Yc);this.set("on",!1)},styleSetter:function(c){if(c.hasOwnProperty("opacity"))c.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+c.opacity*100+")";return c},c:"ZoomRectangle",n:"0.0.0.1",switchOnOff:function(){var c=
this.mapDisplay&&this.mapDisplay.getComponentById("panning.Drag");this.A=!this.A;if(c)c.A=!this.A},rectNodeSetter:function(c){var d=this.mapDisplay.rb,b=d.ownerDocument;c||(c=l.setStyle(b.createElement("div"),this.fh));l.setStyle(c,this.style);this.rectNode&&this.rectNode.parentNode&&d.hasChildNodes(this.rectNode)&&d.removeChild(this.rectNode);d.appendChild(c);return c},attach:function(c){this._super(c);this.q=this.MAP_2D;var d=this.rectNode,b=d?{}:this.fh,e=c.rb,h=e.ownerDocument,d=d||this.set("rectNode",
h.createElement("div"))&&this.rectNode;l.setStyle(d,b);l.setStyle(d,this.style);d.parentNode||e.appendChild(d);c.addListener("dragstart",this.eb);c.addListener("drag",this.Xc);c.addListener("dragend",this.Yc)},detach:function(c){c.removeListener("dragstart",this.eb);c.removeListener("drag",this.Xc);c.removeListener("dragend",this.Yc);this._super(c)},fh:{border:"2px solid black",width:0,height:0,display:"none",position:"absolute",zIndex:"10000",background:"#CCC",opacity:0.5,filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"},
style:{},eb:function(c){if(c.target instanceof d&&this.enabled&&this.A){var e=this.rectNode,b=c.displayX,f=c.displayY;c.dataTransfer.lift=!1;this.Hd={x:b,y:f};e.style.left=b+"px";e.style.top=f+"px";e.style.width="0px";e.style.height="0px";e.style.display="";c.stopImmediatePropagation()}},Xc:function(c){if(c.target instanceof d&&this.enabled&&this.A){var e=this.rectNode.style,b=this.Hd,f=c.displayX-b.x,l=c.displayY-b.y;e.left=b.x+(f<0?f:0)+"px";e.top=b.y+(l<0?l:0)+"px";e.width=h(f)+"px";e.height=h(l)+
"px";c.stopImmediatePropagation()}},Yc:function(c){if(c.target instanceof d&&this.enabled&&this.A)this.mh={x:c.displayX,y:c.displayY},this.rectNode.style.display="none",this.Jd(),c.stopImmediatePropagation()},Jd:function(){var c=this.mapDisplay,d=e.geo.BoundingBox.coverAll([c.pixelToGeo(this.Hd.x,this.Hd.y),c.pixelToGeo(this.mh.x,this.mh.y)]);c.zoomTo(d,!1,"default")}})})(nokia.maps);ovi.provide("nokia.maps.map.component.ContextMenu");
(function(e){function l(b,a){var c="",d=a.street?a.street:"",e=a.houseNumber?a.houseNumber:"",f=a.city?a.city:"",g=a.postalCode?a.postalCode:"",h=a.country?a.country:"";d+e&&(c=d+" "+e+"<br/>");g+f&&(c+=g+" "+f+", ");c+=c?a.country?a.country:"":(h?h+", ":"")+(a.country?a.country:"");b.innerHTML=c;this.Nh(this.x,this.y)}function h(b,a){var c=this;nokia.places.search.manager.reverseGeoCode({latitude:a.latitude,longitude:a.longitude,onComplete:function(a,d){a&&d==="OK"&&a.location&&l.call(c,b,a.location.address)}})}
function d(b,a){var c=this,d=new e.advsearch.Manager,f;d.addObserver("state",function(a){a.state==="finished"&&(f=a.locations[0])&&l.call(c,b,f.address)});d.reverseGeocode(a)}var c=nokia.maps.dom.Page.browser.touch,g=c?"tap":"click",b=c?"longpress":"contextmenu",f=e.util;e.map.component.ContextMenu=new ovi.Class({Extends:e.ui.UIComponent,c:"ContextMenu",n:"0.0.0.0",initialize:function(){var b=e.util.getRootNameSpace("nokia");this.q=this.MAP_2D|this.GLOBE;this.Yb=new ovi.Array;this.xh=new ovi.Array;
this.sd=ovi.bind(this,this.sd);this.addHandler(e.map.component.ContextMenu.zoomHandler);e.Features.getFeatureMap().reporter&&typeof Array.prototype.forEach==="function"&&new e.reporter.ContextMenuHandler(this);(b.places||e.advsearch&&e.advsearch.Manager)&&this.setHeader(e.map.component.ContextMenu.reverseGeocodingHandler);e.routing&&e.routing.component&&this.addHandler(e.routing.component.ContextMenuHandler)},Statics:{Group:new ovi.Class({initialize:function(){this.s=[]},addEntry:function(b,a,c){this.s.push({jd:b,
Jg:a,Si:c})},pu:function(){return this.s.length}}),zoomHandler:function(b,a){var c;if(!b.target.isRoutingMarker)c=this.mapDisplay.zoomLevel,a.addEntry("__i18n_rightClickMenu.zoomIn__",c<this.mapDisplay.maxZoomLevel?function(){this.mapDisplay.setZoomLevel(c+1,"default")}:null,!0),a.addEntry("__i18n_rightClickMenu.zoomOut__",c>this.mapDisplay.minZoomLevel?function(){this.mapDisplay.setZoomLevel(c-1,"default")}:null,!0)},reverseGeocodingHandler:function(b){var a=e.util.getRootNameSpace("nokia"),c=this.mapDisplay.pixelToGeo(this.x,
this.y);a.places?h.call(this,b,c):e.advsearch.Manager&&d.call(this,b,c)},mapFeedbackHandler:e.util.u,captureHandler:e.util.u},attach:function(c){this._super(c);this.mapDisplay.addListener(b,this.sd);this.mapDisplay.addListener("mapviewchangestart",this.Ta);this.node.addListener(g,this.Kc);this.kb.addListener(g,this.Kc);this.hide()},detach:function(c){this.mapDisplay.removeListener(b,this.sd);this.mapDisplay.removeListener("mapviewchange",this.Ta);this.node.addListener(g,this.Kc);this.kb.addListener(g,
this.Kc);this._super(c)},addHandler:function(b){typeof b!=="function"&&f.d();return this.Yb.indexOf(b)<0&&this.Yb.push(b)&&!0},removeHandler:function(b){b=this.Yb.indexOf(b);return b>=0&&this.Yb.splice(b,1)&&!0},setHeader:function(b,a){this.Gm={jd:b,Si:a}},Kc:function(b){(b.button===2||ovi.platform.mac&&b.button===0&&b.ctrlKey)&&b.preventDefault()},sd:function(b){if(this.enabled){this.x=b.displayX;this.y=b.displayY;b.preventDefault();var a=this.Yb,c=a.length,d=this.xh,f,g=e.map.component.ContextMenu.Group;
for(d.length=0;c--;)a[c].call(this,b,f=new g),f.s.length&&d.push(f);d.length&&this.vo(b)}}});if(e.routing&&e.routing.component)e.map.component.ContextMenu.routingHandler=e.routing.component.ContextMenuHandler})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.OverviewComponent");
(function(e){var l=e.ui.nokia_generic,h=e.dom.EventTarget,d=l.UIComponent.EVENT_CLICK,c=Math,g=c.pow,b=c.round;l.OverviewComponent=new ovi.Class({Extends:e.map.component.Overview,build:function(){var b=ovi.bind;this._super("nm_overviewWrap");this.D=h(this.findElement("nm_overviewButton",this.node));this.Gc=this.findElement("nm_overviewMap");this.xc=ovi.bind(this,this.xc);this.addObserver("expanded",this.xc);this.Q=b(this,this.Q);this.df=b(this,this.df);this.vi=new e.ui.common.Animator(this.df,0.6);
this.onLanguageChange()},attach:function(b){this._super(b);b=this.D;this.mainBgColor&&(this.Gc.style.backgroundColor=this.mainBgColor);this.initGraphics(b,"default");this.Oc(b);b.addListener(d,this.Q);this.$h();this.set("conceal",!1);this.triggerRedraw()},detach:function(b){var c=this.D;this.set("conceal",!1);this.Af(c);c.removeListener(d,this.Q);this._super(b);this.triggerRedraw()},Kb:function(b){b.nativeEvent.keyCode===13&&this.Q()},Q:function(){this.expanded?this.collapse():this.expand();this.setCursorDefault()},
H:function(b){this.expanded||this._super(b)},expandedSetter:function(b){b?(this.setAria("expanded",!0,this.node),this.showMap(this.Gc),this.ih=this.getMinimapDimensions(),this.wi=!1,this.resize(this.ih.width,this.ih.height)):(this.setAria("expanded",!1,this.node),this.wi=!0,this.resize(0,0),this.node.removeAttribute("style"),this.Gc.removeAttribute("style"));return b},resize:function(b,c){var a=this.Gc,d=this.node;a.style.width=d.style.width=b+"px";a.style.height=d.style.height=c+"px";d.style.marginTop=
-c+1+"px"},Mp:0,Kp:0,Lr:function(b,c){this.zi=!1;this.ls=this.Mp;this.is=this.Kp;this.Rt=b-this.ls;this.Pt=c-this.is;this.vi.stop();this.vi.start();this.wn()},df:function(c){var d=-2*g(c,3)+3*g(c,2),a=this.Pt*d;this.cg(b(this.ls+this.Rt*d),b(this.is+a));if(c==1)this.zi=!0,this.vn(),this.updateMinimap()},cg:function(b,c){var a=this.Gc,d=this.node;if(!this.zi)if(this.$h(),b+9<=27||c+10<=31){if(this.wi)a.style.width=a.style.height=d.style.width=d.style.height=d.marginTop="",a.style.top="-29px",this.setAria("expanded",
!1,this.node)}else this.Mp=b,this.Kp=c,a.style.width=d.style.width=b+"px",a.style.height=d.style.height=c+"px",a.style.top=-c+"px",d.style.marginTop=-c+1+"px"},wn:function(){var b=new e.dom.Event;b.type="resizestart";b.target=this;this.dispatch(b)},$h:function(){var b=new e.dom.Event;b.type="resize";b.target=this;this.dispatch(b)},vn:function(){var b=new e.dom.Event;b.type="resizeend";b.target=this;this.dispatch(b)},xc:function(){this.node.title=this.translate("ovi.service.map._"+(this.expanded?"t51":
"t50"))},onLanguageChange:function(){this.xc()}});e.map.component.Overview=l.OverviewComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.PublicTransportAndTrafficMixin");
(function(e){var l=e.ui.nokia_generic,h=e.dom.EventTarget,d=l.UIComponent,e=e.dom.Page,c=!!(e.browser.msie&&e.browser.version<9),g=d.EVENT_CLICK;l.PublicTransportAndTrafficMixin=new ovi.Class({initialize:function(){this.Dj=!1},build:function(){var b=ovi.bind;this._super(d.CSS_CLASS_PREFIX+this.Gf);this.D=h(this.node);this.ic=b(this,this.ic);this.jb=b(this,this.jb);this.Kj(this.node,void 0,void 0,!0);this.onLanguageChange()},Md:function(){var b=this.mapDisplay;this.initGraphics(this.D,"default");this.Rk=
ovi.bind(this,this.Rk);this.Db=ovi.bind(this,this.Db);b.addObserver("baseMapType",this.Sh,this);b.availableBaseMapTypes.addObserver(this.Db,this);b.addObserver("zoomLevel",this.Db,this);b.addListener("resizeend",this.jb);b.addListener("transitionstart",this.Rk);b.addListener("transitionend",this.Db);this.Db();this.set("conceal",!1);this.Qk();this.ol()},Rk:function(){this.rq=!0},detach:function(b){var c=this.D,d=this.mapDisplay;this.Vc&&this.Vc(b);d.baseMapType===this.e&&d.set("baseMapType",d.NORMAL);
this.e=null;c.removeListener(g,this.ic);b.removeObserver("baseMapType",this.Sh,this);b.availableBaseMapTypes.removeObserver(this.Db,this);b.removeObserver("zoomLevel",this.Db,this);b.removeListener("resizeend",this.jb);b.removeListener("transitionstart",this.Rk);b.removeListener("transitionend",this.Db);this.set("conceal",!0);this.setAria("disabled",null,this.node);this._super(b);this.Qk();this.Dj=!1},Sh:function(b,c,d,a){this.Dj?this.Dj=!1:(a===b.SATELLITE||a===b.TERRAIN||a===b.COVERAGE||a===b.GLOBE)&&
d!==b.PANORAMA&&d!==b.GLOBE?(b=this.getAria("pressed",this.D)?!0:!1,c=this.Tm(),b&&c?this.mapDisplay.set("baseMapType",this.e):this.lh(c)):d===this.e?(this.setAria("pressed",!0,this.D),this.lh(!0)):d===b.TRAFFIC||d===b.SMART_PT||d===b.NORMAL?(this.setAria("pressed",!1,this.D),this.lh(!0),this.ol()):d===b.GLOBE||d===b.PANORAMA||this.lh(!1)},Db:function(b){var c=this.mapDisplay,d=this.e,a=this.Tm();if(b&&b.type==="transitionend")this.rq=!1;if(!this.rq){if(!a&&this.getAria("pressed",this.D))this.Dj=
!0;c.baseMapType===d&&!a&&c.setBaseMapType(c.NORMAL,"none");c.baseMapType==c.NORMAL&&a&&this.getAria("pressed",this.D)&&c.setBaseMapType(d,"none");this.lh(a)}},Tm:function(){var b=this.mapDisplay,c=b.baseMapType;return b.availableBaseMapTypes.indexOf(this.e)>=0&&(c===b.NORMAL||c===b.SMART_PT||c===b.TRAFFIC)},ic:function(){var b=this.mapDisplay,c=this.e;b.set("baseMapType",b.baseMapType===c?b.NORMAL:c)},lh:function(b){var d=this.D,e=this.getAria("disabled",d);this.ol();if(e!==!b)this.setAria("disabled",
!b,this.node),b?(d.addListener(g,this.ic),this.Oc(d),c||this.node.setAttribute("tabindex",0)):b===!1&&(d.removeListener(g,this.ic),this.Af(d),c||this.node.removeAttribute("tabindex")),this.enabled=b},ol:function(){var b=this.Tm(),c=this.mapDisplay.baseMapType==this.e,d=this.Gf;this.setCssActive(this.node,c);b?c?this.setGraphics(d,"active"):this.setGraphics(d,"normal"):this.setGraphics(d,"disable")},H:function(b){this.enabled&&!this.getAria("pressed",this.D)&&this._super(b)},I:function(b){this.enabled&&
this._super(b)},Pf:function(b){this.enabled&&this._super(b)},Kb:function(b){b.nativeEvent.keyCode===13&&this.ic()},jb:function(){var b=this.e,c=this.getRootNode().parentNode.parentNode,d=c.clientWidth/this.jf,b=b===this.mapDisplay.TRAFFIC?312:276;this.Np&&(c.clientHeight/this.jf<356?d<b?this.setAria("hidden",!0):this.setAria("hidden",!1):this.setAria("hidden",!1))},isCompatible:function(b){return this.Np=this._super(b)},onLanguageChange:function(){this.node.title=this.translateHtml("__i18n_ovi.service.map._t"+
(this.Gf==="traffic"?"91":"86")+"__")}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.PublicTransportComponent");(function(e){var l=e.ui.nokia_generic;l.PublicTransportComponent=new ovi.Class({Extends:e.map.component.PublicTransport,Mixins:[l.PublicTransportAndTrafficMixin],initialize:function(e){this._super(e);this.Gf="publicTransport";this.e=null},attach:function(e){this._super(e);this.e=e.SMART_PT;this.Md()}});e.map.component.PublicTransport=l.PublicTransportComponent})(nokia.maps);ovi.provide("nokia.maps.map.component.Traffic");
(function(e){e.map.component.Traffic=new ovi.Class({Extends:e.ui.UIComponent,attach:function(e){this.q=this.MAP_2D;this._super(e)},detach:function(e){this._super(e)},c:"Traffic",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.map.component.TrafficIncidents");
(function(e){e.map.component.TrafficIncidents=new ovi.Class({Extends:e.ui.UIComponent,Mixins:[nokia.maps.map.component.ml],initialize:function(e){this._super(e);this.q=this.MAP_2D;this.Pm=!1},attach:function(e){this.wd=e.TRAFFIC_INCIDENTS;this._super(e);this.disableTooltips||this.attachTooltips(e)},detach:function(e){this._super(e);this.detachTooltips(e)},c:"TrafficIncidents",n:"0.0.0.1"})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.MapSelectorComponent");
(function(e){var l=e.ui.nokia_generic,h=e.util,d=e.dom,c=d.EventTarget,g=l.UIComponent,b=d.Page,f=h.Point,r=l.SpaceManager,a=ovi.dom.addClass,q=ovi.dom.removeClass,k=ovi.browser.msie&&ovi.browser.version<9?"innerText":"textContent",m=g.EVENT_CLICK,p=g.EVENT_BLUR,z=g.LAYOUT_VERTICAL,s=!!(b.browser.msie&&b.browser.version<9),u=ovi.Array.indexOf,w="DIV DD DT DL LI UL".split(" ");l.MapSelectorComponent=new ovi.Class({Extends:e.map.component.TypeSelector,ff:null,width:0,build:function(){this._super("nm_mapSelectorWrap");
var b=this.mapDisplay,d=ovi.bind,f=this.oa=this.node,g=this.Rq=c(this.findElement("nm_menuItemMapType",this.node)),h=this.ht=c(this.findElement("nm_labelOpen nm_firstBG",this.node)),l=this.Fe=[{node:c(this.findElement("nm_normal",this.node)),type:b.NORMAL},{node:c(this.findElement("nm_satellite",this.node)),type:b.SATELLITE},{node:c(this.findElement("nm_terrain",this.node)),type:b.TERRAIN}],m=l.length;if(this.findElement("nm_globe"))l.push({node:c(this.findElement("nm_globe",this.node)),type:b.GLOBE}),
m=l.length;b.GLOBE&&e.map.render.globe?a(f.parentNode,"nm_has3D"):((b=this.findElement("nm_globe"))&&b.parentNode.removeChild(b),(b=this.findElement("nm_3DBG"))&&b.parentNode.removeChild(b),q(f.parentNode,"nm_has3D"));this.contract=d(this,this.contract);this.jk=d(this,this.jk);for(h.i18n={title:h.getAttribute("title")};m--;)f=l[m],f.onClick=d(this,this.ar,f),f.textNode=this.findElement("nm_secondBG",f.node),f.i18n=f.textNode.innerHTML;c(this.node).disableUserSelect();this.ic=d(this,this.ic);this.jb=
d(this,this.jb);d=this.findElement("nm_labelOpen",g);this.Sq={node:d,i18n:d[k]};d=this.findElement("nm_labelClose",g);this.Vu={node:d,i18n:d[k]};this.hide();this.onLanguageChange();this.jb();this.contract()},attach:function(a){this._super(a);var b=this.mapDisplay,c=this.Fe,d=c.length;this.Rq.addListener(m,this.ic);for(b.addObserver("baseMapType",this.Ho,this);d--;)c[d].node.addListener(m,c[d].onClick);this.Ho(a,"baseMapType",a.baseMapType);this.ff=r.getSpaceManager(a);this.fw();b.addListener("resizestart",
this.contract);b.addListener("resizeend",this.jb);this.show();this.set("conceal",!1);this.Qk()},detach:function(a){var b=this.mapDisplay,c=this.oa,d=this.Fe,e=d.length;this.Rq.removeListener(m,this.ic);c.removeListener(p,this.contract);b.removeObserver("baseMapType",this.Ho,this);b.removeListener("resizestart",this.contract);for(b.removeListener("resizeend",this.jb);e--;)d[e].node.removeListener(m,d[e].onClick);this.ff.removeComponent(this.getId());this.hide();this._super(a);this.Qk()},expand:function(){var b=
this.ff,d=this.node,e=d.parentNode,f=window.document;b&&b.setActiveState(this.getId(),"1");this.setAria("expanded",!0,d);this.setAria("expanded",!0,e);this.xf===z&&a(e,"nm_openVertSelector");f=c(f);f.addListener(m,this.jk);this.triggerRedraw()},contract:function(){var a=this.ff,b=this.node,c=b.parentNode,d=window.document;a&&a.setActiveState(this.getId(),"0");this.setAria("expanded",!1,b);this.setAria("expanded",!1,c);this.xf===z&&q(c,"nm_openVertSelector");d.removeListener&&d.removeListener(m,this.jk);
this.triggerRedraw()},Ho:function(a,b,c){a=this.Fe;for(b=a.length;b--;)a[b].type===c&&this.Yr(a[b])},Yr:function(a){var b=this.Sq.node,c=this.Us;c&&this.setAria("checked",!1,c.node);this.Us=a;this.setAria("checked",!0,a.node);s?b[k]=a.textNode.innerHTML:b.firstChild[k]=a.textNode.innerHTML},jk:function(a){d.contains(this.node,a.target)||(this.getAria("expanded",this.node)&&this.contract(),this.Df())},Kb:function(a){var b=a.target,c=a.nativeEvent.keyCode,d=this.xf,e=g.LAYOUT_HORIZONTAL,f=g.LAYOUT_VERTICAL,
k=this.Fe,h,l;if(b===this.oa)switch(c){case 40:k[0].node.focus();break;case 38:k[k.length-1].node.focus();break;case 37:k[0].node.focus();break;case 39:k[k.length-1].node.focus();break;case 13:this.getAria("expanded",this.node)?this.contract():this.expand();this.Df();break;case 9:this.Df()}else{for(l=h=this.Fe.length;l--;)if(k[l].node===b)break;switch(c){case 40:if(d===e)break;l+=1;l===h?k[0].node.focus():k[l].node.focus();break;case 38:if(d===e)break;l-=1;l<0?k[h-1].node.focus():k[l].node.focus();
break;case 37:if(d===f)break;l+=1;l===h?k[0].node.focus():k[l].node.focus();break;case 39:if(d===f)break;l-=1;l<0?k[h-1].node.focus():k[l].node.focus();break;case 13:this.ar(k[l],a);break;case 9:this.Df()}}},ic:function(){this.getAria("expanded",this.node)?this.contract():this.expand();this.Df()},ar:function(a){this.mapDisplay.setBaseMapType(a.type,"default");this.Yr(a)},onLanguageChange:function(){var a;a=this.ht;var b=this.Sq,c=this.Vu,d=this.Fe,e=d.length;a.title=this.translateHtml(a.i18n.title);
b.node.innerHTML=this.translateHtml(b.i18n);c.node.innerHTML=this.translateHtml(c.i18n);s?b.node[k]=this.translateHtml(b.i18n):b.node.firstChild[k]=this.translateHtml(b.i18n);for(c.node[k]=this.translateHtml(c.i18n);e--;)a=d[e].textNode,a.innerHTML=this.translateHtml(d[e].i18n);this.Df()},Df:s?function(){var a=this.node,b=a.parentNode,c=b.childNodes,d=0,e,f=a.childNodes,k=f.length,h;h=this.getAria("expanded",a);var a=this.xf===g.LAYOUT_VERTICAL,l=0;if(h){for(;k--;)e=f[k],u(w,e.nodeName)>0&&!this.getAria("hidden",
e)&&(h=e.currentStyle||window.getComputedStyle(e),e=e.offsetWidth-0,e+=h&&(h.marginLeft.slice(0,-2)-0)*10||0,e+=h&&(h.marginRight.slice(0,-2)-0)*10||0,a?d=l=e>l?e+3:l:(d+=e,d+=3));for(k=c.length;k--;)if(e=c[k],e.nodeName==="LI")f=e.offsetWidth,d+=f;b.style.width=d/10+"em"}else b.style.width="auto"}:h.u,fw:function(){var a=this.ff,b=this.oa,c=this.mapDisplay,d=ovi.dom.offset(b,c.da),e;a.registerSpace(this.getId(),"0",e=new f(d.left,d.top),e.add(new f(b.offsetWidth,b.offsetHeight)));this.expand();d=
ovi.dom.offset(b,c.da);a.registerSpace(this.getId(),"1",e=new f(d.left,d.top),e.add(new f(b.offsetWidth,b.offsetHeight)));this.contract()},layoutHorizontal:function(){this._super();this.oa&&ovi.dom.addClass(this.oa.parentNode,"nm_layout_horizontal")},layoutVertical:function(){this._super();this.oa&&ovi.dom.removeClass(this.oa.parentNode,"nm_layout_horizontal")},jb:function(){var a=this.getRootNode().parentNode.parentNode,c=a.clientHeight/this.jf,a=a.clientWidth/this.jf,d=this.Fe[2].node,e=b.platform.ipad||
b.platform.iphone,f=b.browser.fullVersion.replace(".","").substring(0,2),f=e&&f>=51;c<413?(this.layoutHorizontal(),a<368?this.setAria("hidden",!0,d):this.setAria("hidden",!1,d)):(!f&&e?this.layoutHorizontal():this.layoutVertical(),this.setAria("hidden",!1,d));this.triggerRedraw()}});e.map.component.TypeSelector=l.MapSelectorComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.ContextMenuComponent");
(function(e){var l=nokia.maps.ui.nokia_generic,h=e.util,d=e.dom,c=d.EventTarget,g=l.UIComponent,b=e.map.component.ContextMenu,f=ovi.dom.addClass,d=e.dom;nokia.maps.ui.nokia_generic.ContextMenuComponent=new ovi.Class({Extends:b,Statics:{zoomHandler:b.zoomHandler,reverseGeocodingHandler:b.reverseGeocodingHandler,routingHandler:b.routingHandler,Group:b.Group},Ln:32,Kn:32,build:function(){var b,a;this._super("nm_rcMenu");b=this.node.parentNode;a=this.node=c(this.node.cloneNode(!0));c(a.ownerDocument);
b.appendChild(a);this.nh=a.removeChild(this.findElement("nm_rcMenuItem"),a);this.Gi=a.removeChild(this.findElement("nm_rcMenuSeparator"),a);this.kb=c(a.parentNode.appendChild(this.findElement("nm_rcMenuPin"),a));this.kb.addListener("contextmenu",function(a){a.preventDefault()});this.Ta=ovi.bind(this,this.Ta);this.hide=ovi.bind(this,this.hide)},vo:function(b){var a=this,c=a.node,e=c.ownerDocument,h=a.xh,l,z=h.length,s,u,w,x;d.Ob(c);if((s=a.Gm)&&!b.target.isRoutingMarker&&!(b.target instanceof nokia.maps.map.Marker))w=
a.nh.cloneNode(!0),f(w,"nm_rcMenuItemHeader"),a.oh(w,s,e,!0),c.appendChild(w),f(c.appendChild(a.Gi.cloneNode(!0)),"seperator-header");for(;z--;){l=h[z];l=l.s;for(x=0;x<l.length;x++)u=l[x],w=a.nh.cloneNode(!0),!s&&z===h.length-1&&x===0&&f(w,"top"),b.target.isRoutingMarker&&b.target instanceof nokia.maps.map.Marker&&h.length===1&&l.length==1&&f(w,"top"),a.oh(w,u,e),u.Jg&&this.ql(w,u),c.appendChild(w);z&&c.appendChild(a.Gi.cloneNode(!0))}e.addListener(g.EVENT_DOWN,function(b){a.Ko(b.target)||a.Ta()},
!0);a.show();a.Nh(b.displayX,b.displayY)},oh:function(b,a,c,d){var e=a.jd;switch(typeof a.jd){case "string":b.appendChild(c.createTextNode(a.Si?this.translateHtml(e):e));break;case "function":a.jd.call(this,b);break;default:h.Aw("ContextMenu.Group."+(d?"header":"entry")+" label must be either a string or a function")}},ql:function(b,a){var d=this;c(b).addListener(g.EVENT_CLICK,function(b){d.Ta();a.Jg.call(d,b)});f(b,"clickable")},Ko:function(b){for(var a=this.node,c;c=b.parentNode;){if(c==a)return!0;
b=b.parentNode}return!1},Nh:function(b,a){var c=this.node,d=c.offsetWidth,e=c.offsetHeight,f=this.mapDisplay,g=f.width,f=f.height;this.kb.style.left=b-this.Ln/2+"px";this.kb.style.top=a-this.Kn/2+"px";c.style.left=g-b<d?b-d+"px":b+"px";c.style.top=f-a<e?a-e+"px":a+"px"},Ta:function(){this.node.ownerDocument.removeListener("mousedown",this.Ta,!0);this.Qg();this.dd=setTimeout(this.hide,150)},hide:function(){this._super();this.dd=!1;this.kb.style.display="none";this.triggerRedraw();this.set("hidden",
!0)},show:function(){this.Qg();this._super();this.kb.style.display="";this.triggerRedraw();this.set("hidden",!1)},Qg:function(){this.dd&&clearTimeout(this.dd);this.dd=null}});e.map.component.ContextMenu=l.ContextMenuComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.ZoomBarComponent");
(function(e){var l=e.ui.nokia_generic,h=e.dom.EventTarget,d=l.SpaceManager,c=e.util.Pa,g=ovi.bind,b=Math.floor,f=Math.ceil;l.ZoomBarComponent=new ovi.Class({Extends:e.map.component.ZoomBar,build:function(){this._super("nm_zoomWrap");this.disableUserSelect();this.Cx=this.node;this.vg=h(this.findElement("nm_zoomIn"),this.node);this.xg=h(this.findElement("nm_zoomOut"),this.node);this.ee=g(this,this.ee);this.fe=g(this,this.fe);this.Na=g(this,this.Na);this.hide();this.ww();this.onLanguageChange()},attach:function(b){this._super(b);
var a=this.vg,c=g(a,a.addListener),e=this.xg,f=g(e,e.addListener);g(b,b.addObserver);this.initGraphics(a,"default");this.initGraphics(e,"default");this.Oc(a,e);c("touchstart",this.ee);c("touchend",this.Na);c("mousedown",this.ee);c("mouseup",this.Na);c("mouseout",this.Na);f("touchstart",this.fe);f("touchend",this.Na);f("mousedown",this.fe);f("mouseup",this.Na);f("mouseout",this.Na);this.ff=d.getSpaceManager(b);this.show();this.set("conceal",!1)},detach:function(b){var a=this.vg,c=this.xg;this._super(b);
a.removeListener("touchstart",this.ee);a.removeListener("touchend",this.Na);a.removeListener("mousedown",this.ee);a.removeListener("mouseup",this.Na);a.removeListener("mouseout",this.Na);c.removeListener("touchstart",this.fe);c.removeListener("touchend",this.Na);c.removeListener("mousedown",this.fe);c.removeListener("mouseup",this.Na);c.removeListener("mouseout",this.Na);this.Af(a,c);this.ff.removeComponent(this.getId());this.hide();this.set("conceal",!0)},show:function(){this._super()},Ng:function(d,
a){var e=this.mapDisplay,g=(a?b:f)(d);e&&(g=c(g+(g===d)*(a?-1:1),e.minZoomLevel,e.maxZoomLevel),e.setZoomLevel(g,"default"))},ms:function(b,a){this.Cc=window.setInterval(a?this.fe:this.ee,1E3,b)},Na:function(b){var a=this.Cc;if(a)window.clearInterval(a),this.Cc=null;this.pv(b)},ee:function(b){b.type==="touchstart"&&b.preventDefault();this.mr(b);this.Ng(this.mapDisplay.zoomLevel);this.Cc||this.ms(b)},fe:function(b){b.type==="touchstart"&&b.preventDefault();this.mr(b);this.Ng(this.mapDisplay.zoomLevel,
!0);this.Cc||this.ms(b,!0)},Kb:function(b){var a=b.nativeEvent.keyCode;if(a===38||a===43||a===107)this.ee(b),this.Na(b);else if(a===40||a===45||a===109)this.fe(b),this.Na(b)},onLanguageChange:function(){this.vg.title=this.translateHtml("__i18n_ovi.service.map._t41__");this.xg.title=this.translateHtml("__i18n_ovi.service.map._t40__")}});e.map.component.ZoomBar=l.ZoomBarComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.ZoomRectangleComponent");
(function(e){var l=e.ui,h=l.common,l=l.nokia_generic,d=e.dom.EventTarget,c=l.UIComponent.EVENT_CLICK,g=h.ColorSet,b=e.dom.Page.browser.mobile,f=new h.ColorScheme({normal:new g({stroke:"#333",fill:"#00BBDC"}),focus:new g({stroke:"#333",fill:"#333"}),active:new g({stroke:"#FFF",fill:"#FFF"})});l.ZoomRectangleComponent=new ovi.Class({Extends:e.map.component.ZoomRectangle,build:function(){this._super("nm_zoomRectWrap");this.D=d(this.node);this.Me=d(this.findElement("nm_zoomRectButton_icon_normal"));this.ii=
d(this.findElement("nm_zoomRectButton_icon_pressed"));this.Q=ovi.bind(this,this.Q);this.hide();this.setAria("pressed","false",this.node)},attach:function(b){this._super(b);var b=this.D,a=this.Me,d=this.ii;this.initGraphics(a,"default");this.initGraphics(d,f);this.Oc(a,d);b.addListener(c,this.Q);this.xc();this.set("conceal",!1)},detach:function(b){this._super(b);this.Oc(this.Me,this.ii);this.D.removeListener(c,this.Q)},onLanguageChange:function(){this.xc()},Q:function(){this.switchOnOff();b||this.setAria("pressed",
this.A,this.node);this.xc()},xc:function(){this.node.title=this.translate("ovi.service.map._"+(this.A?"t96":"t95"))}});e.map.component.ZoomRectangle=l.ZoomRectangleComponent})(nokia.maps);ovi.provide("nokia.maps.positioning.component.Positioning");
(function(e){e.positioning.component.Positioning=new ovi.Class({Extends:e.ui.UIComponent,initialize:function(e){this._super(e);this.q=this.MAP_2D;this.responseHandler=ovi.bind(this,this.responseHandler);this.DEFAULT_SVG_MARKER_SRC='<svg xmlns="http://www.w3.org/2000/svg" width="34" version="1.1" height="34" baseProfile="tiny" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg2"><path d="m 25.489083,17 c 0,4.688377 -3.800705,8.489083 -8.489083,8.489083 C 12.311621,25.489083 8.510917,21.688377 8.510917,17 c 0,-4.688377 3.800704,-8.489083 8.489083,-8.489083 c 4.688378,0 8.489083,3.800706 8.489083,8.489083 z" id="path3761" style="color:#000000;fill:#ffffff;fill-opacity:0.50196078;stroke:none;stroke-width:1.02183414;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /><path d="m 25.489083,17 c 0,4.688377 -3.800705,8.489083 -8.489083,8.489083 C 12.311621,25.489083 8.5109169,21.688377 8.5109169,17 C 8.5109169,12.311623 12.311621,8.510917 17,8.510917 c 4.688378,0 8.489083,3.800706 8.489083,8.489083 z" id="path5230" style="color:#000000;fill:none;stroke:#00bbdc;stroke-width:1.02183414;stroke-linecap:butt;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /><path d="m 22,17 c 0,2.761417 -2.238583,5 -5,5 c -2.761417,0 -5,-2.238583 -5,-5 c 0,-2.761417 2.238583,-5 5,-5 c 2.761417,0 5,2.238583 5,5 z" id="path3218" style="color:#000000;fill:#00bbdc;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /></svg>'},c:"Positioning",
n:"0.0.0.1",accuracyCircle:null,build:function(e){e&&this._super(e)},removeCircle:function(){this.accuracyCircle&&this.mapDisplay.objects.remove(this.accuracyCircle);this.accuracyCircle=null;this.positionMarker&&this.mapDisplay.objects.remove(this.positionMarker);this.positionMarker=null},detach:function(e){this.removeCircle();this._super(e)},requestPosition:function(l,h){var d=this,c;e.positioning.Manager&&(c=new e.positioning.Manager,c.getCurrentPosition(function(c){d.responseHandler(c);l(c)},h))},
responseHandler:function(l){var h=l.coords,l=new e.map.Circle(h,h.accuracy,this.Ap||{}),d=new e.gfx.SvgParser,d=new e.gfx.GraphicsImage(d.parseSvg(this.DEFAULT_SVG_MARKER_SRC)),h=new e.map.Marker(h,{icon:d,anchor:[d.width/2,d.height/2]});this.removeCircle();this.showPosition(l,h);this.accuracyCircle=l;this.positionMarker=h},showPosition:function(e,h){this.mapDisplay.objects.addAll([e,h]);this.mapDisplay.zoomTo(e.getBoundingBox(),!1)}})})(nokia.maps);ovi.provide("nokia.maps.ui.common.InfoBubbleComponent");
(function(e){var l=e.ui.common,h=e.util,d=e.geo.Coordinate,c=e.ui.common.Bubble,g=h.d,b=e.dom.findElement,f=new nokia.maps.ui.common.ColorSet({background:"#000F1A",text:"#FFFFFF",border:"#000F1A",fill:"#000F1A",stroke:"#000F1A"}),r={backgroundColor:"fill",color:"text"},a=l.InfoBubbleComponent=new ovi.Class({Extends:e.map.component.InfoBubbles,Statics:{createTails:function(a,c,d){var f={};e.dom.Cj(b(d+"bubble_tail",a),function(a,b){var d=new e.ui.common.GfxTemplate(b,c);f.rightbelow=(new e.gfx.GraphicsImage(d.stencil(1,
0,0))).createElement();f.rightabove=(new e.gfx.GraphicsImage(d.stencil(1,0,2))).createElement();f.leftbelow=(new e.gfx.GraphicsImage(d.stencil(1,0,1))).createElement();f.leftabove=(new e.gfx.GraphicsImage(d.stencil(1,0,3))).createElement()});return f}},initialize:function(a){this.U=a.cssPrefix||"nm_";this.Ra=a.colorSet||f;this._super();this.Ig={};this.openBubbleHandles=new nokia.maps.util.OList},Im:0,isCloning:!0,build:function(){this._super(this.U+"infoBubble");this.Il=this.findElement(this.U+"bubble_bg",
this.node);this.Tc=ovi.bind(this,this.Tc);this.options.addObserver("backgroundColor",this.Tc);this.options.addObserver("color",this.Tc);this.options.backgroundColor=this.Ra.fill;this.options.color=this.Ra.text;this.Dg()},Dg:function(){this.Il.style.backgroundColor=this.Ra.fill||"";this.node.style.color=this.Ra.text||"";this.zb=a.createTails(this.node,this.Ra,this.U)},Tc:function(a,b,c){a=r[b];c?this.Ra[a]=c:delete this.Ra[a];this.Dg()},detach:function(a){this.closeAll();this._super(a)},openBubble:function(a,
b,c,e){(b=d.fromObject(b))||g("Not a valid coordinate");a||g("No content specified");c=this.initBubble(c,e);c.update(a,b);c.open();return c},initBubble:function(a,b){var d=this,f=d.options,f=new c({id:d.Im++,node:e.dom.cloneNode(d.node,!0),Za:!1,nn:function(){d.openBubbleHandles.remove(this)},un:function(){d.options.autoClose&&d.closeAll();d.openBubbleHandles.add(this)},vh:function(){return d.mapDisplay},yn:a||nokia.maps.util.u,zb:d.Tl(),ve:b,U:d.U,defaultWidth:f.defaultWidth,defaultHeight:f.defaultHeight,
xAlignment:f.defaultXAlignment,yAlignment:f.defaultYAlignment});d.Ig[f.id]=f;d.mapDisplay.rb.appendChild(f.node);return f},closeAll:function(){for(var a=this.openBubbleHandles.getLength();a--;)this.openBubbleHandles.get(a).close()},Tl:function(){var a=nokia.maps.dom.cloneNode;return{rightbelow:a(this.zb.rightbelow,1),rightabove:a(this.zb.rightabove,1),leftbelow:a(this.zb.leftbelow,1),leftabove:a(this.zb.leftabove,1)}},Wt:h.u,Xt:h.u,show:h.u,hide:h.u,Oh:function(){var a,b=this.Ig;for(a in b)b[a].wc()}})})(nokia.maps);
ovi.provide("nokia.maps.map.component.ScaleBar");
(function(e){e.map.component.ScaleBar=new ovi.Class({Extends:e.ui.UIComponent,c:"ScaleBar",n:"0.0.0.1",initialize:function(e){this._super(e);this.q=this.MAP_2D},attach:function(e){this._super(e);this.updateScale&&this.mapDisplay.addObserver("zoomLevel",this.updateScale,this).addObserver("center",this.updateScale,this).addObserver("copyrightWidth",this.updateScale,this)},detach:function(e){this.updateScale&&this.mapDisplay.removeObserver("zoomLevel",this.updateScale,this).removeObserver("center",this.updateScale,
this).removeObserver("copyrightWidth",this.updateScale,this);this._super(e)},showImperialUnits:!1,showImperialUnitsSetter:function(e){this.switchUnit(e);return e},calculateMPP:function(){var e=this.mapDisplay,h=e.center,d=e.geoToPixel(h),c=0;h.latitude==90&&(c=1);h.longitude==-90&&(c=-1);return e.pixelToGeo(d.x-1,d.y+c).distance(e.pixelToGeo(d.x+1,d.y+c))/2}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.TrafficComponent");
(function(e){var l=e.ui.nokia_generic,l=l.TrafficComponent=new ovi.Class({Extends:e.map.component.Traffic,Mixins:[l.PublicTransportAndTrafficMixin],initialize:function(e){this._super(e);this.Gf="traffic";this.e=null},attach:function(e){this._super(e);this.e=e.TRAFFIC;this.Md()}});e.map.component.Traffic=l})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.TrafficIncidentsComponent");
(function(e){var l=e.ui.nokia_generic,h=l.UIComponent,d=e.dom.EventTarget,c=h.EVENT_CLICK,g=h.CSS_CLASS_PREFIX;l.TrafficIncidentsComponent=new ovi.Class({Extends:e.map.component.TrafficIncidents,build:function(){var b=ovi.bind;this.Gf=g+"trafficIncidents";this._super(this.Gf);this.D=d(this.node);this.cl=b(this,this.cl);this.kk=b(this,this.kk);this.Ik=b(this,this.Ik);this.Dh="normal";this.Kj(this.node,void 0,void 0,!0)},attach:function(b){this._super(b);var d=this.D;this.initGraphics(d,"default");
d.addListener(c,this.cl);this.Oc(d);b.overlays.addObserver(this.kk);b.addObserver("zoomLevel",this.Ik);this.set("conceal",!1);this.disableButton&&this.hide();b.overlays.indexOf(this.wd)!==-1&&this.Ur();this.jq(b.zoomLevel);this.onLanguageChange()},detach:function(b){this._super(b);var d=this.D;this.A=!1;d.removeListener(c,this.cl);this.Af(d);b.overlays.remove(this.wd);b.overlays.removeObserver(this.kk);b.removeObserver("zoomLevel",this.Ik);this.set("conceal",!1)},onLanguageChange:function(){this.node.title=
this.translate("ovi.service.map._t97")},jq:function(b){b<this.wd.min?(this.setAria("disabled",!0,this.node),this.ig=!0,this.setGraphics("trafficIncidents","disable")):(this.setAria("disabled",!1,this.node),this.ig=!1,this.setGraphics("trafficIncidents",this.Dh||"normal"))},Ik:function(b,c,d){this.jq(d)},cl:function(){var b=this.mapDisplay;this.Pm=!0;if(!this.ig)this.A?(b.overlays.remove(this.wd),this.A=!1):(b.overlays.add(this.wd),this.A=!0)},Ur:function(){this.A=!0;this.setGraphics("trafficIncidents",
"active");this.Dh="active"},lw:function(){this.A=!1;this.setGraphics("trafficIncidents","normal");this.Dh="normal"},kk:function(b,c,d){if(d===this.wd&&!this.ig)this.A=c==="add"?!0:!1,this.Pm||(c==="add"?this.Ur():this.lw()),this.Pm=!1;this.disableButton&&this.hide()},H:function(b){!this.ig&&!this.A&&!this.getAria("pressed",this.D)&&this._super(b)},I:function(b){!this.ig&&!this.A&&this._super(b)},Pf:function(b){!this.ig&&this.A?(this._super(b),this.Dh="normal"):this.Dh="active"}});e.map.component.TrafficIncidents=
l.TrafficIncidentsComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.PositioningComponent");
(function(e){var l=e.ui.common,h=e.ui.nokia_generic,d=e.dom.EventTarget,c=h.UIComponent.EVENT_CLICK,g=l.ColorSet,l=l.ColorScheme,b=new l({normal:new g({stroke:"#333",fill:"#333"}),disable:new g({stroke:"#D6D6D6",fill:"#D6D6D6"}),focus:new g({stroke:"#333",fill:"#00BBDC"}),active:new g({stroke:"#FFF",fill:"#FFF"})}),f=new l({normal:new g({stroke:"#333",fill:"#00BBDC"}),focus:new g({stroke:"#333",fill:"#333"}),active:new g({stroke:"#FFF",fill:"#FFF"})}),r=new l({normal:new g({stroke:"#0099BB",fill:"#0099BB"}),
focus:new g({stroke:"#333",fill:"#333"}),active:new g({stroke:"#333",fill:"#333"})});h.PositioningComponent=new ovi.Class({Extends:e.positioning.component.Positioning,build:function(){this._super("nm_positioningWrap");this.oa=d(this.node);this.Ll=d(this.findElement("nm_pos_icon_normal"),this.oa);this.Ml=d(this.findElement("nm_pos_icon_pressed"),this.oa);this.Kl=d(this.findElement("nm_pos_icon_busy"),this.oa);this.Zh=ovi.bind(this,this.Zh);this.Kj(this.node,void 0,void 0,!0);this.onLanguageChange()},
attach:function(a){this._super(a);a=this.oa;this.initGraphics(this.Ll,b);this.initGraphics(this.Ml,f);this.initGraphics(this.Kl,r);e.positioning.Manager?(a.addListener(c,this.Zh),this.Oc(this.Ll,this.Ml,this.Kl)):(this.setAria("disabled",!0,a),this.setGraphics("positioning_normal","disable"));this.set("conceal",!1)},detach:function(a){nokia.maps.positioning.Manager&&this.oa.removeListener(c,this.Zh);this.Af(this.Ll,this.Ml,this.Kl);this._super(a)},Zh:function(){var a=this,b=a.oa;a.getAria("pressed",
b)?(a.removeCircle(),a.setAria("pressed",!1,b)):(a.setAria("pressed",!0,b),a.setAria("busy",!0,b),a.Ap={pen:{strokeColor:"#00BBDC",lineWidth:2},brush:{color:"#FFFFFF99"}},a.requestPosition(function(){a.setAria("busy",!1,b)},function(){setTimeout(function(){a.setAria("pressed",!1,b);a.setAria("busy",!1,b)},8E3)}))},Kb:function(a){!this.getAria("disabled",this.node)&&a.nativeEvent.keyCode===13&&this.Zh()},onLanguageChange:function(){this.node.title=this.translateHtml("__i18n_ovi.service.map._t72__")}});
e.positioning.component.Positioning=h.PositioningComponent})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.InfoBubbleComponent");(function(e){var l=e.ui.nokia_generic,h=new nokia.maps.ui.common.ColorSet({background:"#000F1A",text:"#FFF",border:"#000F1A",fill:"#000F1A",stroke:"#000F1A"});l.InfoBubbleComponent=new ovi.Class({Extends:e.ui.common.InfoBubbleComponent,initialize:function(){this._super({colorSet:h,cssPrefix:"nm_"})}});e.map.component.InfoBubbles=l.InfoBubbleComponent})(nokia.maps);
ovi.provide("nokia.maps.ui.nokia_generic.ScaleBarComponent");
(function(e){var l=e.ui.common,h=e.ui.nokia_generic,d=e.gfx,c=e.dom.EventTarget,g=h.UIComponent,b=g.EVENT_CLICK,f=g.EVENT_OVER,r=g.EVENT_OUT,a=g.EVENT_FOCUS,q=g.EVENT_BLUR,k=g.CSS_GFX,m=100,p=Math,z=p.floor,s=d.GraphicsImage,u=d.Color.parseCss,d=l.ColorSet,w=new l.ColorScheme({normal:new d({stroke:"#DDD",fill:"#000"}),focus:new d({stroke:"#FFF",fill:"#0bd"})}),x=h.ScaleBarComponent=new ovi.Class({Extends:e.map.component.ScaleBar,Statics:{kl:0.3048006,yg:1609.344},build:function(){var a=ovi.bind;this._super("nm_scalebarWrap");
this.oa=this.node;this.qm=this.Mc=c(this.findElement("nm_scaleBarExpandableElement"));this.lf=this.findElement("nm_scalebarUnitinfo");this.ts=this.findElement("nm_scalebarTextTester");this.Es=this.lf.innerHTML;this.ts.style.font="bold 10px Arial";this.mf=a(this,this.Yk);this.Cb=a(this,this.Cb);this.Bb=a(this,this.Bb);this.na=a(this,this.na);this.dh=w.normal;this.Ei=null;this.Qj=!1;this.onLanguageChange()},attach:function(c){this._super(c);c=this.Mc;this.mapDisplay.addListener("mapviewchangeend",this.na);
c.addListener(b,this.mf);c.addListener(f,this.Cb);c.addListener(r,this.Bb);c.addListener(a,this.Cb);c.addListener(q,this.Bb);this.show();this.na();this.qb=!0;this.set("conceal",!1)},detach:function(c){var d=this.Mc;this.mapDisplay.removeListener("mapviewchangeend",this.na);d.removeListener(b,this.mf);d.removeListener(f,this.Cb);d.removeListener(r,this.Bb);d.removeListener(a,this.Cb);d.removeListener(q,this.Bb);this.Hr();this.Ei=null;this._super(c);this.hide();this.set("conceal",!0)},show:function(){this._super()},
I:function(){this.setCursorPointer();this.dh=w.focus;this.na()},H:function(){this.setCursorDefault();this.dh=w.normal;this.na()},Kb:function(a){a.nativeEvent.keyCode===13&&this.Yk(a)},Yk:function(a){a&&(a.preventDefault(),a.stopPropagation());this.dh=w.normal;this.set("showImperialUnits",!this.Da)},switchUnit:function(a){this.Da=a;this.qb&&(a?(ovi.dom.removeClass(this.Mc,"nm_metric"),ovi.dom.addClass(this.Mc,"nm_imperial")):(ovi.dom.removeClass(this.Mc,"nm_imperial"),ovi.dom.addClass(this.Mc,"nm_metric")),
this.na())},Cb:function(a){if(!this.Qj){if(this.isMouseover(a))this.I(),this.qm.title=this.translate("ovi.service.map._"+(this.Da?"t30":"t29"));this.Qj=!0}},Bb:function(a){if(this.Qj)this.isMouseout(a)&&this.H(),this.Qj=!1},na:function(){if(this.enabled){var a=this.calculateMPP();if(this.Lt!=a)this.Kt=a,this.calculateDistance(a),this.$t(z(this.Di/this.bm*m),this.Di)}},$t:function(a,b){function c(a,b){a.beginPath();a.moveTo(2,8);a.lineTo(2,16);a.lineTo(b-2,16);a.lineTo(b-2,8);a.lineTo(b-4,8);a.lineTo(b-
4,14);a.lineTo(4,14);a.lineTo(4,8);a.lineTo(2,8);a.closePath();return a}var d=this,e=b+" "+d.dm,f=new s(function(b){var f=a+4+2,g=f+2,k=d.ts,h=0;k.innerHTML=e;h=g-k.offsetWidth-4-2-2;b.beginImage(g,20,"ScaleBar");d.oa.style.width=g+"px";d.oa.style.height="20px";b.set("strokeColor",u(d.dh.stroke));b.set("fillColor",u(d.dh.fill));b.set("lineWidth",2.5);b.set("lineJoin","round");b.set("font","bold 10px Arial");b.strokeText(e,h+0.5,10);b.fillText(e,h,10);b.set("lineWidth",4);b=c(b,f);b.stroke();b.set("lineWidth",
0);b=c(b,f);b.fill()});d.Hr();d.Ei=f.createElement();d.$v=f;d.Ei.className=k;d.qm.style.cssText="-webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;";d.qm.appendChild(d.Ei)},Hr:function(){var a=this.Ei;a&&a.parentNode&&a.parentNode.removeChild(a)},calculateDistance:function(a){a*=m;var b;this.Da?a<x.yg?(a/=x.kl,b=this.translate("ovi.service.map._t23")):(a/=x.yg,b=this.translate("ovi.service.map._t24")):
a<1E3?b=this.translate("ovi.service.map._t25"):(a/=1E3,b=this.translate("ovi.service.map._t26"));this.dm=b;this.bm=a;b=p.pow(10,z(p.log(a)/p.LN10));a>=5*b?b*=5:a>=2*b&&(b*=2);this.Di=b},onLanguageChange:function(){m=e.util.getRootNameSpace("nokia.maps").Language.language.iso639_1=="zh"?140:100;this.na()},capture:function(a){var b=this.$v,c=b.width,d=b.height;a.drawGraphics(new e.gfx.Graphics(b.getIDL()),0,0,c,d,a.getWidth()-c,a.getHeight()-d,c,d)}});e.map.component.ScaleBar=h.ScaleBarComponent})(nokia.maps);
ovi.provide("nokia.maps.map.component.DistanceMeasurement");
(function(e){var l=e.dom.Page,h=l.browser.touch,d=h?"touch":"mouse",c=h?"tap":"click",g=h?"dbltap":"dblclick",b=d+"enter",f=d+"leave",r=new ovi.Class({Extends:e.map.Marker,initialize:function(a,b){b=b||{};b.draggable=!0;this._super(a,b)}});e.map.component.DistanceMeasurement=new ovi.Class({Extends:e.map.component.Component,initialize:function(a){this._super(a);this.clickListener=ovi.bind(this,this.clickListener);this.dragListener=ovi.bind(this,this.dragListener);this.dragStartListener=ovi.bind(this,
this.dragStartListener);this.enterListener=ovi.bind(this,this.enterListener);this.leaveListener=ovi.bind(this,this.leaveListener);this.dblClickListener=ovi.bind(this,this.dblClickListener);this.container=new e.map.Container},c:"DistanceMeasurement",n:"0.0.0.1",container:null,coordinates:new ovi.Array,markers:new ovi.Array,lines:new ovi.Array,labels:void 0,hovered:!1,qb:!1,re:0,startMarkerOptions:{},middleMarkerOptions:{},endMarkerOptions:{},normalPen:{strokeColor:"#C22A",lineWidth:6},hoverPen:{strokeColor:"#614A",
lineWidth:8},textLabelOnFirstMarker:!0,attach:function(a){this._super(a)},Md:function(){var a=this.mapDisplay;if(!this.qb)a.insertListener(c,this.clickListener),a.insertListener("drag",this.dragListener),a.insertListener("dragend",this.dragListener,!0),a.insertListener("dragstart",this.dragStartListener,!0),a.insertListener(b,this.enterListener),a.insertListener(f,this.leaveListener),a.insertListener(g,this.dblClickListener),this.qb=!0},detach:function(a){this.disable();this.Vc();this._super(a)},
Vc:function(){var a=this.mapDisplay;if(this.qb)a.removeListener(c,this.clickListener),a.removeListener("drag",this.dragListener),a.removeListener("dragend",this.dragListener,!0),a.removeListener("dragstart",this.dragStartListener,!0),a.removeListener(b,this.enterListener),a.removeListener(f,this.leaveListener),a.removeListener(g,this.dblClickListener),this.qb=!1},enable:function(){this.mapDisplay&&(this.mapDisplay.objects.add(this.container),this.Md())},disable:function(){if(this.mapDisplay)this.Vc(),
this.mapDisplay.objects.remove(this.container),this.container.objects.clear(),this.coordinates.length=0,this.markers.length=0,this.lines.length=0,this.labels=void 0,this.hovered=!1,this.updateMap()},addCoordinate:function(a){var b=this.coordinates,c=this.markers,d=this.container.objects,e=b.length,f;b.push(a);e>1&&(f=c.pop(),d.remove(f),f=this.createMarker(c.length,c.length+1,f.coordinate),c.push(f),d.add(f));marker=this.createMarker(c.length,e,a);this.markers.push(marker);this.container.objects.add(marker);
e>=1&&this.addLine(b[e-1],b[e]);this.hovered=!0;this.showLabels()},addLine:function(a,b){var c=this.createLine(a,b);this.lines.push(c);this.container.objects.add(c)},createLine:function(a,b){var c=new e.map.Polyline([a,b],{pen:this.normalPen});c.enableDrag();return c},clickListener:function(a){if(!(a.type=="click"&&a.button!==0)){var b=a.target,c=this.lines.indexOf(b),d=this.markers.indexOf(b),e=this.labels?this.labels.indexOf(b):-1,f=this.mapDisplay.pixelToGeo(a.displayX,a.displayY);if(e<0)if(c<
0)if(d<0)this.addCoordinate(f),this.hideLabels(),this.showLabels();else{if(l.platform.mac?a.metaKey:a.ctrlKey)this.hideLabels(),this.removeMarker(b,d),--this.re}else b.set("pen",this.normalPen),this.splitLine(b,f,c);this.updateMap()}},dblClickListener:function(){},removeMarker:function(a,b){var c=this.lines,d,e=this.container.objects,f=this.markers.length,g=b===f-1;b>0&&!g&&c[b-1].path.set(1,this.coordinates[b+1]);e.remove(a);e.remove(c[b]);this.coordinates.splice(b,1);this.markers.splice(b,1);c.splice(b,
1);if(b===0&&(d=this.markers.shift()))e.remove(d),d=this.createMarker(b,f,d.coordinate),this.markers.unshift(d),e.add(d);g&&b>1&&(d=this.markers.pop(),e.remove(d),d=this.createMarker(f,f,d.coordinate),this.markers.push(d),e.add(d));g&&this.container.objects.remove(c.pop());this.updateMap()},splitLine:function(a,b,c){var d;this.coordinates.splice(c+1,0,b);d=this.createMarker(c+1,this.markers.length,b);this.markers.splice(c+1,0,d);this.container.objects.add(d);d=a.path.get(1);a.path.set(1,b);a=this.createLine(b,
d);this.lines.splice(c+1,0,a);this.container.objects.add(a)},createMarker:function(a,b,c){b=a>=b;return a===0?new r(c,this.startMarkerOptions):b?new r(c,this.endMarkerOptions):new r(c,this.middleMarkerOptions)},dragListener:function(a){var b=a.target,c,d=this.markers.indexOf(b),e=this.lines;d<0||(c=this.getEventCoordinate(a),this.coordinates[d]=c,b.set("coordinate",c),d>0&&e[d-1].path.set(1,c),d<e.length&&e[d].path.set(0,c),this.isOwnElement(a.target)&&(this.hideLabels(),this.showLabels()),this.updateMap())},
dragStartListener:function(a){var b=a.target,c=this.lines,d=this.normalPen,e=this.lines.indexOf(b);if(e>-1)this.clickListener(a),a.preventDefault(),b.set("pen",d);else if((e=this.markers.indexOf(b))>-1)a.dataTransfer.lift=!1,c[e-1]&&c[e-1].set("pen",d),c[e]&&c[e].set("pen",d)},updateMap:function(){this.mapDisplay.update(0)},getEventCoordinate:function(a){var b=a.target.anchor,c=a.dataTransfer.getData("application/map-drag-object-offset");return this.mapDisplay.pixelToGeo(a.displayX-c.x+b.x,a.displayY-
c.y+b.y)},enterListener:function(a){var b=a.target,c=this.lines.indexOf(b);if(this.isOwnElement(a.target))this.re++,this.hovered=!0,this.showLabels();c<0||(b.set("pen",this.hoverPen),this.updateMap())},leaveListener:function(a){var b=this,c=a.target,d=b.lines.indexOf(c);if(b.isOwnElement(a.target)&&!--b.re)b.hovered=!1,setTimeout(function(){b.hovered||b.hideLabels()},200);d<0||(c.set("pen",b.normalPen),b.updateMap())},getDistance:function(a){var b=0,c=this.coordinates,a=a===void 0?c.length-1:a;ovi.each(c,
function(d,e){e===0||e>a||(b+=d.distance(c[e-1]))});return this.formatLength(b)},getSegmentDistance:function(a){if(a=this.lines[a])return this.formatLength(a.path.get(0).distance(a.path.get(1)))},isOwnElement:function(a){return a.t==this.container},formatLength:function(a){return a},showLabels:function(){var a=this;if(!(a.labels||a.lines.length===0))a.labels=new ovi.Array,a.markers.map(function(b,c){(a.textLabelOnFirstMarker||c>0)&&a.labels.push(a.createLabel(b.coordinate,a.getDistance(c),!1))}),
a.lines.map(function(b,c){a.labels.push(a.createLabel(b.getBoundingBox().getCenter(),a.getSegmentDistance(c),!0))}),a.container.objects.addAll(a.labels),a.updateMap()},hideLabels:function(){var a=this;if(a.labels)a.labels.map(function(b){a.container.objects.remove(b)}),a.labels=void 0,a.updateMap()},createLabel:function(a,b,c){var d=(b+"").length*9,f={x:-11,y:8};c&&(f={x:d*0.4,y:8});return new e.map.Marker(a,{icon:new e.gfx.GraphicsImage(function(a){a.beginImage(d,15);a.set("font","12px sans-serif");
a.set("strokeColor",e.gfx.Color.parseCss("white"));a.set("lineWidth",4);a.strokeText(b,2,12);a.fillText(b,2,12)}),anchor:f,zIndex:100,width:d,height:15})}})})(nokia.maps);ovi.provide("nokia.maps.ui.nokia_generic.DistanceMeasurement");
(function(e){var l=e.ui.common,h=e.ui.nokia_generic,d=e.map.component.DistanceMeasurement,c=e.dom.EventTarget,g=h.UIComponent,b=g.EVENT_CLICK,f=e.dom.Page.browser.mobile,r={icon:new e.gfx.GraphicsImage(function(a){a.beginImage(22,22);a.set("fillColor","#661144");a.drawEllipse(0,0,22,22);a.fill();a.set("fillColor","#ffffff");a.drawEllipse(5,5,12,12);a.fill()}),anchor:new nokia.maps.util.Point(11,11)},e=l.ColorSet,a=new l.ColorScheme({normal:new e({stroke:"#333",fill:"#00BBDC"}),focus:new e({stroke:"#333",
fill:"#333"}),active:new e({stroke:"#FFF",fill:"#FFF"})}),q={"2d":"MAP_2D","3d":"GLOBE",panorama:"PANORAMA"};h.DistanceMeasurement=new ovi.Class({Extends:g,initialize:function(a){this._super(a);a=a||{};a.startMarkerOptions=r;a.middleMarkerOptions=r;a.endMarkerOptions=r;a.normalPen=a.normalPen||{};a.normalPen.strokeColor="614A";a.normalPen.lineWidth=6;a.hoverPen=a.hoverPen||{};a.hoverPen.strokeColor="614F";a.hoverPen.lineWidth=8;a.textLabelOnFirstMarker=!1;this.Ba=new d(a);this.Ba.formatLength=ovi.bind(this,
this.wm);this.c=this.Ba.c;this.n=this.Ba.n;this.q=this.MAP_2D},Ba:null,A:!1,Da:!1,build:function(){this._super("nm_rulerWrap");this.D=c(this.node);this.Me=c(this.findElement("nm_rulerButton_icon_normal"));this.ii=c(this.findElement("nm_rulerButton_icon_pressed"));this.Q=ovi.bind(this,this.Q);this.hide();this.setAria("pressed","false",this.node);this.onLanguageChange()},attach:function(c){this._super(c);var d=this.D,e=c.getComponentById("ScaleBar"),f=this.Me,g=this.ii;this.initGraphics(f,"default");
this.initGraphics(g,a);this.Oc(f,g);d.addListener(b,this.Q);this.Ba.attach(c);if(e)this.Da=e.showImperialUnit,this.Ad(e,1);c.components.addObserver(this.Od,this);this.set("conceal",0)},detach:function(a){var c=this.D,d=a.getComponentById("ScaleBar");this.Oc(this.Me,this.ii);c.removeListener(b,this.Q);this._super(a);this.Ba.detach(a);d&&this.Ad(d,0);a.components.removeObserver(this.Od,this);this.set("conceal",0)},Od:function(a,b,c){c.getId()==="ScaleBar"&&(b=="add"?this.Ad(c,1):this.Ad(c,0))},Ad:function(a,
b){a[(b?"add":"remove")+"Observer"]("showImperialUnits",this.Ql,this)},Ql:function(a,b,c){if(b=="showImperialUnits")this.Da=c},Q:function(){var a=this.Ba;this.A?(a.disable(),this.A=0,f||this.setAria("pressed","false",this.node)):(a.enable(),this.A=1,f||this.setAria("pressed","true",this.node));this.xc()},hide:function(){var a=this.Ba;this._super();a.disable();this.A=0;this.setAria("pressed","false",this.node)},Kb:function(a){a.nativeEvent.keyCode===13&&this.Q()},wm:function(a){var b=0;this.Da?a<1609.344?
(a/=0.3048006,unitStr=this.translate("ovi.service.map._t23"),b=1):(a/=1609.344,unitStr=this.translate("ovi.service.map._t24")):a<1E3?(unitStr=this.translate("ovi.service.map._t25"),b=1):(a/=1E3,unitStr=this.translate("ovi.service.map._t26"));a=Math.round(a*10)/10;b&&(a=Math.round(a));a+=" "+unitStr;return a},xc:function(){this.node.title=this.translate("ovi.service.map._"+(this.A?"t93":"t92"))},onLanguageChange:function(){this.xc()},MAP_2D:1,PANORAMA:2,GLOBE:4,q:0,isCompatible:function(a){return this.q&
this[q[a]]}});nokia.maps.map.component.DistanceMeasurement=nokia.maps.ui.nokia_generic.DistanceMeasurement})(nokia.maps);ovi.provide("nokia.maps.ui._packaging.package-nokia_enterprise");})();
