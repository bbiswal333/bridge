<div ng-controller="app.atc.detailcontroller" style="box-sizing:border-box" >    
    <div class="panel panel-default" style="padding:30px;box-sizing:border-box;" cg-busy="{promise:loadingPromise,message:'Loading'}">
		<bridge.input model="filterText" placeholder="Filter.." style="width:280px;float:left;margin-right:25px;"></bridge.input>
		<!--<div class="btn-group" style="height:32px">
			<span ng-repeat="status in getStatusArray()" ng-class="{true: 'btn btn_blue', false: 'btn'}[statusMap[status].active];" class="btn btn-default" ng-click="statusMap[status].active = !statusMap[status].active" style="margin-bottom:20px;">Prio {{status}}</span>
		</div>-->
		<bridge.button ng-repeat="status in getStatusArray()" style="margin-bottom:30px;margin-top:0;margin-left:0;margin-right:0;width:70px;" ng-click="statusMap[status].active = !statusMap[status].active" state="statusMap[status].active === true ? 'active' : 'invisible-button'">Prio {{status}}</bridge.button>

		<br/>

		<bridge.table table-data="atcData.tableData" filter="filterText" new-layout="true">
			<bridge.table-column column-id="1" header="'Prio'" column-width="60" column-order="parentScope.config.detailsColumnOrder[0]" order-by="CHECK_MSG_PRIO" visible="parentScope.config.detailsColumnVisibility[0]"></bridge.table-column>
			<bridge.table-column column-id="2" header="'System'" column-width="90" column-order="parentScope.config.detailsColumnOrder[1]" order-by="CHECK_SYSTEM" visible="parentScope.config.detailsColumnVisibility[1]"><a href="https://ifp.wdf.sap.corp/sap/bc/bsp/sap/ZBRIDGE_BSP/saplink.sap?sid={{row.entity.CHECK_SYSTEM}}&client={{row.entity.CHECK_CLIENT}}&transaction=*CHECKMAN">{{row.entity.CHECK_SYSTEM}}</a></bridge.table-column>
			<bridge.table-column column-id="3" header="'Check'" column-width="210" column-order="parentScope.config.detailsColumnOrder[2]" order-by="CHECK_DESCRIPTION" visible="parentScope.config.detailsColumnVisibility[2]"></bridge.table-column>
			<bridge.table-column column-id="4" header="'Check Message'" column-width="210" column-order="parentScope.config.detailsColumnOrder[3]" order-by="CHECK_MESSAGE" visible="parentScope.config.detailsColumnVisibility[3]"></bridge.table-column>
			<bridge.table-column column-id="5" header="'Object Type'" column-width="90" column-order="parentScope.config.detailsColumnOrder[4]" order-by="OBJECT" visible="parentScope.config.detailsColumnVisibility[4]"></bridge.table-column>
			<bridge.table-column column-id="6" header="'Object'" column-width="150" column-order="parentScope.config.detailsColumnOrder[5]" order-by="OBJ_NAME" visible="parentScope.config.detailsColumnVisibility[5]"></bridge.table-column>
			<bridge.table-column column-id="7" header="'Package'" column-width="150" column-order="parentScope.config.detailsColumnOrder[6]" order-by="DEVCLASS" visible="parentScope.config.detailsColumnVisibility[6]"></bridge.table-column>
			<bridge.table-column column-id="8" header="'Package Responsible'" column-width="240" column-order="parentScope.config.detailsColumnOrder[7]" order-by="RESP4DEVCLASS" visible="parentScope.config.detailsColumnVisibility[7]" group-template="<bridge.employee id='row.groupVal'></bridge.employee> (\{\{row.groupCount\}\})"><bridge.employee id="row.entity.RESP4DEVCLASS" mail-subject="ATC Check in System {{row.entity.CHECK_SYSTEM}}" mail-body="System: {{row.entity.CHECK_SYSTEM}}%0D%0APackage: {{row.entity.DEVCLASS}}"></bridge.employee></bridge.table-column>
			<bridge.table-column column-id="9" header="'Object Responsible'" column-width="240" column-order="parentScope.config.detailsColumnOrder[8]" order-by="RESP4OBJ_ACCOUNT" visible="parentScope.config.detailsColumnVisibility[8]" group-template="<bridge.employee id='row.groupVal'></bridge.employee> (\{\{row.groupCount\}\})"><bridge.employee id="row.entity.RESP4OBJ_ACCOUNT" mail-subject="ATC Check in System {{row.entity.CHECK_SYSTEM}}" mail-body="System: {{row.entity.CHECK_SYSTEM}}%0D%0AObject: {{row.entity.OBJ_NAME}}"></bridge.employee></bridge.table-column>
			<bridge.table-column column-id="10" header="'Component'" column-width="150" column-order="parentScope.config.detailsColumnOrder[9]" order-by="COMP_SHORT" visible="parentScope.config.detailsColumnVisibility[9]"></bridge.table-column>
			<bridge.table-column column-id="11" header="'Check Date'" column-width="90" column-order="parentScope.config.detailsColumnOrder[10]" order-by="CHECK_TSTMP" visible="parentScope.config.detailsColumnVisibility[10]">{{grid.appScope.$parent.getFormattedDate(row.entity.CHECK_TSTMP)}}</bridge.table-column>
			<bridge.table-column column-id="12" header="'Check Run'" column-width="210" column-order="parentScope.config.detailsColumnOrder[11]" order-by="CHECK_TITLE" visible="parentScope.config.detailsColumnVisibility[11]" custom-style="{'min-width': '10rem'}"></bridge.table-column>
			<bridge.table-column column-id="13" header="'Age'" column-width="110" column-order="parentScope.config.detailsColumnOrder[12]" order-by="FIRST_OCCURRENCE" visible="parentScope.config.detailsColumnVisibility[12]" custom-style="{'min-width': '3rem'}"><bridge.daysago date="row.entity.FIRST_OCCURRENCE"></bridge.daysago></bridge.table-column>
		</bridge.table>
    </div>
</div>