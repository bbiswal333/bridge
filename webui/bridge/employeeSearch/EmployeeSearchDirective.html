<!-- override the UI template for a found match
<style>
    img {opacity:0;
    -moz-transition: opacity 0.5s; /* Firefox 4 */
    -webkit-transition: opacity 0.5s; /* Safari and Chrome */
    -o-transition: opacity 0.5s;
    transition: opacity 0.5s;
    }
</style>-->
<script id="itemTemplate.html" type="text/ng-template">
    <div style="padding-left: 10px; padding-right: 10px">
        <table>
            <td>
                <img style=" border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;" ng-src="http://avatars.wdf.sap.corp:1080/avatar/{{match.model.BNAME}}?s=25x25"></img>&nbsp&nbsp
            </td>
            <td>
                <span tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></span><br />
                <span style="font-size: 13px">
                    <i>
                        {{match.model.KOSTX}}<br />            
                    </i>
                </span>
            </td>
        </div>
    </div>
</script>

<script id="template/typeahead/typeahead-popup.html" type="text/ng-template">
    <ul class="typeahead dropdown-menu" style="position:absolute;z-index:101" ng-style="{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}">
	      <li ng-repeat="match in matches" ng-class="{customactive: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" style="line-height: 18px; margin-top: 4px; padding: 0px 3px 0px 3px;z-index:101;border-color: white">
	          <typeahead-match index="$index" match="match" query="query" template-url="templateUrl" style="z-index:101"></typeahead-match>
	      </li>
	  </ul>
</script>

<!-- ng-if creates a new scope so we have to bin ng-model against $parent.selectedEmployee to pass the employee to the EmployeeSearchDirective -->
<input ng-if="setRequired" required class="form-control" type="text" placeholder="{{placeholder}}" ng-model="$parent.selectedEmployee" 
    typeahead-template-url="itemTemplate.html" typeahead="employee as employee.NACHN + ', ' + employee.VORNA + ' (' + employee.BNAME + ', ' + employee.SAPNA + ')' for employee in doSearch($viewValue)" typeahead-on-select="onSelect($item, $model, $label)" style="height:30px"/>
    
<input ng-if="!setRequired" class="form-control" type="text" placeholder="{{placeholder}}" ng-model="$parent.selectedEmployee" 
    typeahead-template-url="itemTemplate.html" typeahead="employee as employee.NACHN + ', ' + employee.VORNA + ' (' + employee.BNAME + ', ' + employee.SAPNA + ')' for employee in doSearch($viewValue)" typeahead-on-select="onSelect($item, $model, $label)" style="height:30px" />    